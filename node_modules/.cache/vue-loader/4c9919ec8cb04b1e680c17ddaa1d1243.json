{"remainingRequest":"D:\\Less\\小罗音乐2.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Less\\小罗音乐2.0\\src\\pages\\music\\rankinglist.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Less\\小罗音乐2.0\\src\\pages\\music\\rankinglist.vue","mtime":1676101524343},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662623268261},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\babel-loader\\lib\\index.js","mtime":1662623271902},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662623268261},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1662623271232}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tgetToplist,\n\tgetPlaylistDetail,\n\tgetSongDetail,\n\tgetPlaylistTrackAll\n} from '../../plugins/rankinglist.js'\nimport {\n\tgetwang\n} from '../../general/regular.js'\nimport list from '../../components/songlist/list.vue'\nimport songlist from '../../components/basics/songlist.vue'\nimport loading from '../../components/loading/loading.vue'\nexport default {\n\tname: 'rankinglist',\n\tcomponents: {\n\t\t'list': list,\n\t\t'song-list': songlist,\n\t\t'loading': loading\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcomplete:false,\t\t//数据未加载完成时\n\t\t\tsingleobj: {\n\t\t\t\ttype: 'ranking'\n\t\t\t},\n\t\t\tsonglistobj: {\n\t\t\t\ttype: 'ranking',\n\t\t\t\tcount: true,\n\t\t\t\tplay: true,\n\t\t\t\tlocation: 'centre'\n\t\t\t},\n\t\t\tofficial: {\n\t\t\t\tid: [],\n\t\t\t\timg: []\n\t\t\t}, //官方榜\n\t\t\tglobal: [], //全球榜\n\t\t\toffsongid: [], //官方榜歌单id\t\t\t\t\n\t\t\tmusiclist: [\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[],\n\t\t\t\t[]\n\t\t\t], //官方榜音乐前5\n\t\t\ttime: [],\n\t\t\tclickcolor: {\n\t\t\t\tid: '',\n\t\t\t\tindex: ''\n\t\t\t},\n\t\t}\n\t},\n\tcreated() {\n\t\t//获取所有榜单\n\t\tthis.bus.$emit('loading',true)\n\t\tgetToplist().then(res => {\n\t\t\tthis.complete=true\n\t\t\tthis.bus.$emit('loading',false)\n\t\t\tres.data.list.slice(0, 4).forEach(a => {\n\t\t\t\tthis.official.id.push(a.id)\n\t\t\t\tthis.official.img.push(a.coverImgUrl)\n\t\t\t})\n\t\t\tthis.global = res.data.list.splice(4, 37)\n\t\t\tthis.global.forEach(a => {\n\t\t\t\tthis.time.push(getwang(a.playCount))\n\t\t\t})\n\t\t\tthis.official.id.forEach(data => {\n\t\t\t\tvar a = JSON.stringify(data)\n\t\t\t\tvar b = JSON.parse(a)\n\t\t\t\tthis.offsongid.push(b)\n\t\t\t})\n\t\t})\n\n\t\t// 获取官方榜歌单里前5首歌曲详情\n\t\tgetPlaylistTrackAll({\n\t\t\tid: 19723756,\n\t\t\tlimit: 5\n\t\t}).then(res => {\n\t\t\tthis.$set(this.musiclist, 0, res.data.songs)\n\t\t})\n\n\t\tgetPlaylistTrackAll({\n\t\t\tid: 3779629,\n\t\t\tlimit: 5\n\t\t}).then(res => {\n\t\t\tthis.$set(this.musiclist, 1, res.data.songs)\n\t\t})\n\n\t\tgetPlaylistTrackAll({\n\t\t\tid: 2884035,\n\t\t\tlimit: 5\n\t\t}).then(res => {\n\t\t\tthis.$set(this.musiclist, 2, res.data.songs)\n\t\t})\n\n\t\tgetPlaylistTrackAll({\n\t\t\tid: 3778678,\n\t\t\tlimit: 5\n\t\t}).then(res => {\n\t\t\tthis.$set(this.musiclist, 3, res.data.songs)\n\t\t})\n\n\t},\n\tactivated() {\n\t\tthis.bus.$emit('navig','排行榜')\n\t}\n}\n",{"version":3,"sources":["rankinglist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"rankinglist.vue","sourceRoot":"src/pages/music","sourcesContent":["<template>\r\n\t<div class=\"rankinglist\">\r\n\t\t<loading></loading>\r\n\t\t<span v-if=\"complete\" id=\"notice\">官方榜</span>\r\n\t\t<div id=\"official\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li v-for=\"(item,index) in official.img\" :key=\"index\">\r\n\t\t\t\t\t<div class=\"img\">\r\n\t\t\t\t\t\t<img :src=\"item\" alt=\"\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"list\">\r\n\t\t\t\t\t\t<list :obj='singleobj' :params='musiclist[index]'></list>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<span v-if=\"complete\" id=\"notice\" style=\"margin-top: 20px;\">全球榜</span>\r\n\t\t<div id=\"global\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li v-for=\"(item,index) in global\" :key=\"index\">\r\n\t\t\t\t\t<song-list :obj='songlistobj' :params='[\r\n\t\t\t\t\t\titem.coverImgUrl,item.playCount,item.name\r\n\t\t\t\t\t]'></song-list>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetToplist,\r\n\t\tgetPlaylistDetail,\r\n\t\tgetSongDetail,\r\n\t\tgetPlaylistTrackAll\r\n\t} from '../../plugins/rankinglist.js'\r\n\timport {\r\n\t\tgetwang\r\n\t} from '../../general/regular.js'\r\n\timport list from '../../components/songlist/list.vue'\r\n\timport songlist from '../../components/basics/songlist.vue'\r\n\timport loading from '../../components/loading/loading.vue'\r\n\texport default {\r\n\t\tname: 'rankinglist',\r\n\t\tcomponents: {\r\n\t\t\t'list': list,\r\n\t\t\t'song-list': songlist,\r\n\t\t\t'loading': loading\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcomplete:false,\t\t//数据未加载完成时\r\n\t\t\t\tsingleobj: {\r\n\t\t\t\t\ttype: 'ranking'\r\n\t\t\t\t},\r\n\t\t\t\tsonglistobj: {\r\n\t\t\t\t\ttype: 'ranking',\r\n\t\t\t\t\tcount: true,\r\n\t\t\t\t\tplay: true,\r\n\t\t\t\t\tlocation: 'centre'\r\n\t\t\t\t},\r\n\t\t\t\tofficial: {\r\n\t\t\t\t\tid: [],\r\n\t\t\t\t\timg: []\r\n\t\t\t\t}, //官方榜\r\n\t\t\t\tglobal: [], //全球榜\r\n\t\t\t\toffsongid: [], //官方榜歌单id\t\t\t\t\r\n\t\t\t\tmusiclist: [\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[]\r\n\t\t\t\t], //官方榜音乐前5\r\n\t\t\t\ttime: [],\r\n\t\t\t\tclickcolor: {\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\tindex: ''\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t//获取所有榜单\r\n\t\t\tthis.bus.$emit('loading',true)\r\n\t\t\tgetToplist().then(res => {\r\n\t\t\t\tthis.complete=true\r\n\t\t\t\tthis.bus.$emit('loading',false)\r\n\t\t\t\tres.data.list.slice(0, 4).forEach(a => {\r\n\t\t\t\t\tthis.official.id.push(a.id)\r\n\t\t\t\t\tthis.official.img.push(a.coverImgUrl)\r\n\t\t\t\t})\r\n\t\t\t\tthis.global = res.data.list.splice(4, 37)\r\n\t\t\t\tthis.global.forEach(a => {\r\n\t\t\t\t\tthis.time.push(getwang(a.playCount))\r\n\t\t\t\t})\r\n\t\t\t\tthis.official.id.forEach(data => {\r\n\t\t\t\t\tvar a = JSON.stringify(data)\r\n\t\t\t\t\tvar b = JSON.parse(a)\r\n\t\t\t\t\tthis.offsongid.push(b)\r\n\t\t\t\t})\r\n\t\t\t})\r\n\r\n\t\t\t// 获取官方榜歌单里前5首歌曲详情\r\n\t\t\tgetPlaylistTrackAll({\r\n\t\t\t\tid: 19723756,\r\n\t\t\t\tlimit: 5\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.$set(this.musiclist, 0, res.data.songs)\r\n\t\t\t})\r\n\r\n\t\t\tgetPlaylistTrackAll({\r\n\t\t\t\tid: 3779629,\r\n\t\t\t\tlimit: 5\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.$set(this.musiclist, 1, res.data.songs)\r\n\t\t\t})\r\n\r\n\t\t\tgetPlaylistTrackAll({\r\n\t\t\t\tid: 2884035,\r\n\t\t\t\tlimit: 5\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.$set(this.musiclist, 2, res.data.songs)\r\n\t\t\t})\r\n\r\n\t\t\tgetPlaylistTrackAll({\r\n\t\t\t\tid: 3778678,\r\n\t\t\t\tlimit: 5\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.$set(this.musiclist, 3, res.data.songs)\r\n\t\t\t})\r\n\r\n\t\t},\r\n\t\tactivated() {\r\n\t\t\tthis.bus.$emit('navig','排行榜')\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.rankinglist {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\timg {\r\n\t\ttop: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t.rankinglist #notice {\r\n\t\tdisplay: block;\r\n\t\twidth: 100%;\r\n\t\theight: 45px;\r\n\t\tfont-size: 19px;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.rankinglist #official {\r\n\t\twidth: 100%;\r\n\t\theight: 720px;\r\n\t\tmargin-bottom: 25px;\r\n\t}\r\n\r\n\t.rankinglist #official ul {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.rankinglist #official ul li {\r\n\t\twidth: 100%;\r\n\t\theight: 152px;\r\n\t\tdisplay: flex;\r\n\t\tmargin-bottom: 45px;\r\n\t}\r\n\r\n\t.rankinglist #official ul li>.list {\r\n\t\tflex: 1;\r\n\t\tmargin-left: 30px;\r\n\t}\r\n\r\n\r\n\t.rankinglist #global {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.rankinglist #global ul {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.rankinglist #global li {\r\n\t\tflex: 0 0 18.5%;\r\n\t\tmargin-bottom: 10px;\r\n\t\theight: auto;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n</style>\n"]}]}
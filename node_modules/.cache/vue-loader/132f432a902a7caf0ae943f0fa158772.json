{"remainingRequest":"D:\\Less\\小罗音乐2.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Less\\小罗音乐2.0\\src\\pages\\music\\singer.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Less\\小罗音乐2.0\\src\\pages\\music\\singer.vue","mtime":1676101552158},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662623268261},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\babel-loader\\lib\\index.js","mtime":1662623271902},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662623268261},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1662623271232}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tgetArtistList\n} from '../../plugins/singer.js'\nimport {\n\tgetnumber\n} from '../../general/regular.js'\nimport sizer from '../../components/basics/sizer.vue'\nimport songlist from '../../components/basics/songlist.vue'\nimport loading from '../../components/loading/loading.vue'\nexport default {\n\tname: 'singer',\n\tcomponents: {\n\t\t'sizer': sizer,\n\t\t'song-list': songlist,\n\t\t'loading':loading\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tcomplete:false,\t\t//数据未加载完成时\n\t\t\tsonglistobj: {\n\t\t\t\ttype: 'song'\n\t\t\t},\n\t\t\tsizerparam: [\n\t\t\t\t['语种', '分类', '筛选'],\n\t\t\t\t[\"全部\", \"华语\", \"欧美\", \"日本\", \"韩国\", \"其他\"],\n\t\t\t\t[\"全部\", \"男歌手\", \"女歌手\", \"乐队\"],\n\t\t\t\t[\"热门\"],\n\t\t\t],\n\t\t\tclick: {\n\t\t\t\tclicka:'全部',\n\t\t\t\tclickb:'全部',\n\t\t\t\tclickc:'热门'\n\t\t\t},\n\t\t\tsinglist: [], //数据\n\t\t\tyeshu: 0, //页数\n\t\t}\n\t},\n\tmethods: {\n\t\tonclick(value) {\n\t\t\tthis.click = value\n\t\t},\n\t\tload() {\n\t\t\tthis.bus.$emit('loading',true)\n\t\t\tgetArtistList({\n\t\t\t\tarea: getnumber(this.click.clicka),\n\t\t\t\ttype: getnumber(this.click.clickb),\n\t\t\t\tinitial: getnumber(this.click.clickc),\n\t\t\t\toffset: (this.yeshu) * 30\n\t\t\t}).then(res => {\n\t\t\t\tthis.singlist = this.singlist.concat(res.data.artists)\n\t\t\t\tthis.bus.$emit('loading',false)\n\t\t\t\tthis.complete=true\n\t\t\t})\n\t\t\tthis.yeshu++\n\t\t},\n\t\tgetpage(id,type){\n\t\t\tthis.$store.dispatch('page',{\n\t\t\t\tid:id,\n\t\t\t\ttype:type\n\t\t\t})\n\t\t}\n\t},\n\tmounted() {\n\t\tfor (let i = 0; i < 26; i++) {\n\t\t\tthis.sizerparam[3].push(String.fromCharCode(65 + i))\n\t\t}\n\t\tthis.sizerparam[3].push('#')\n\t},\n\twatch: {\n\t\tclick: {\n\t\t\tdeep: true,\n\t\t\thandler(value) {\n\t\t\t\tthis.bus.$emit('loading',true)\n\t\t\t\tthis.singlist = []\n\t\t\t\tthis.yeshu = 0\n\t\t\t\tgetArtistList({\n\t\t\t\t\tarea: getnumber(value.clicka),\n\t\t\t\t\ttype: getnumber(value.clickb),\n\t\t\t\t\tinitial: getnumber(value.clickc),\n\t\t\t\t\toffset: (this.yeshu) * 30\n\t\t\t\t}).then(res => {\n\t\t\t\t\tthis.singlist = this.singlist.concat(res.data.artists)\n\t\t\t\t\tthis.bus.$emit('loading',false)\n\t\t\t\t\tthis.complete=true\n\t\t\t\t})\n\t\t\t\tthis.yeshu++\n\t\t\t}\n\t\t}\n\t},\n\tdeforeDestroy() {\n\t\tthis.singlist = []\n\t},\n\tactivated() {\n\t\tthis.bus.$emit('navig','歌手')\n\t}\n}\n",{"version":3,"sources":["singer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"singer.vue","sourceRoot":"src/pages/music","sourcesContent":["<template>\r\n\t<div class=\"singer\">\r\n\t\t<div class=\"singer-sizer\">\r\n\t\t\t<sizer :params='sizerparam' @onclick='onclick' :sizerobj='click'></sizer>\r\n\t\t</div>\r\n\t\t<loading></loading>\r\n\t\t<div class=\"content\" v-show=\"complete\">\r\n\t\t\t<ul v-infinite-scroll=\"load\">\r\n\t\t\t\t<li v-for=\"(item,index) in singlist\" :key=\"index\" @click=\"getpage(item.id,'歌手')\">\r\n\t\t\t\t\t<song-list :obj='songlistobj' :params='[\r\n\t\t\t\t\t\titem.picUrl,null,item.name\r\n\t\t\t\t\t]'></song-list>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetArtistList\r\n\t} from '../../plugins/singer.js'\r\n\timport {\r\n\t\tgetnumber\r\n\t} from '../../general/regular.js'\r\n\timport sizer from '../../components/basics/sizer.vue'\r\n\timport songlist from '../../components/basics/songlist.vue'\r\n\timport loading from '../../components/loading/loading.vue'\r\n\texport default {\r\n\t\tname: 'singer',\r\n\t\tcomponents: {\r\n\t\t\t'sizer': sizer,\r\n\t\t\t'song-list': songlist,\r\n\t\t\t'loading':loading\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcomplete:false,\t\t//数据未加载完成时\r\n\t\t\t\tsonglistobj: {\r\n\t\t\t\t\ttype: 'song'\r\n\t\t\t\t},\r\n\t\t\t\tsizerparam: [\r\n\t\t\t\t\t['语种', '分类', '筛选'],\r\n\t\t\t\t\t[\"全部\", \"华语\", \"欧美\", \"日本\", \"韩国\", \"其他\"],\r\n\t\t\t\t\t[\"全部\", \"男歌手\", \"女歌手\", \"乐队\"],\r\n\t\t\t\t\t[\"热门\"],\r\n\t\t\t\t],\r\n\t\t\t\tclick: {\r\n\t\t\t\t\tclicka:'全部',\r\n\t\t\t\t\tclickb:'全部',\r\n\t\t\t\t\tclickc:'热门'\r\n\t\t\t\t},\r\n\t\t\t\tsinglist: [], //数据\r\n\t\t\t\tyeshu: 0, //页数\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonclick(value) {\r\n\t\t\t\tthis.click = value\r\n\t\t\t},\r\n\t\t\tload() {\r\n\t\t\t\tthis.bus.$emit('loading',true)\r\n\t\t\t\tgetArtistList({\r\n\t\t\t\t\tarea: getnumber(this.click.clicka),\r\n\t\t\t\t\ttype: getnumber(this.click.clickb),\r\n\t\t\t\t\tinitial: getnumber(this.click.clickc),\r\n\t\t\t\t\toffset: (this.yeshu) * 30\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.singlist = this.singlist.concat(res.data.artists)\r\n\t\t\t\t\tthis.bus.$emit('loading',false)\r\n\t\t\t\t\tthis.complete=true\r\n\t\t\t\t})\r\n\t\t\t\tthis.yeshu++\r\n\t\t\t},\r\n\t\t\tgetpage(id,type){\r\n\t\t\t\tthis.$store.dispatch('page',{\r\n\t\t\t\t\tid:id,\r\n\t\t\t\t\ttype:type\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tfor (let i = 0; i < 26; i++) {\r\n\t\t\t\tthis.sizerparam[3].push(String.fromCharCode(65 + i))\r\n\t\t\t}\r\n\t\t\tthis.sizerparam[3].push('#')\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tclick: {\r\n\t\t\t\tdeep: true,\r\n\t\t\t\thandler(value) {\r\n\t\t\t\t\tthis.bus.$emit('loading',true)\r\n\t\t\t\t\tthis.singlist = []\r\n\t\t\t\t\tthis.yeshu = 0\r\n\t\t\t\t\tgetArtistList({\r\n\t\t\t\t\t\tarea: getnumber(value.clicka),\r\n\t\t\t\t\t\ttype: getnumber(value.clickb),\r\n\t\t\t\t\t\tinitial: getnumber(value.clickc),\r\n\t\t\t\t\t\toffset: (this.yeshu) * 30\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tthis.singlist = this.singlist.concat(res.data.artists)\r\n\t\t\t\t\t\tthis.bus.$emit('loading',false)\r\n\t\t\t\t\t\tthis.complete=true\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.yeshu++\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdeforeDestroy() {\r\n\t\t\tthis.singlist = []\r\n\t\t},\r\n\t\tactivated() {\r\n\t\t\tthis.bus.$emit('navig','歌手')\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.singer {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.singer-sizer {\r\n\t\tmargin-top: 5px;\r\n\t}\r\n\r\n\t.content {\r\n\t\tflex: 1;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.content ul {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t@media screen and (min-width:960px) {\r\n\t\t.content ul li {\r\n\t\t\tflex: 0 0 15.4% !important;\r\n\t\t\tmargin-top: 10px;\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (max-width:960px) {\r\n\t\t.content ul li {\r\n\t\t\tflex: 0 0 18.5% !important;\r\n\t\t\tmargin-top: 10px;\r\n\t\t}\r\n\t}\r\n</style>\n"]}]}
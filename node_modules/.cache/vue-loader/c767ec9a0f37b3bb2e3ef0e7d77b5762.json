{"remainingRequest":"D:\\Less\\小罗音乐\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Less\\小罗音乐\\src\\pages\\Footers\\strip.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Less\\小罗音乐\\src\\pages\\Footers\\strip.vue","mtime":1667720517754},{"path":"D:\\Less\\小罗音乐\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662623268261},{"path":"D:\\Less\\小罗音乐\\node_modules\\babel-loader\\lib\\index.js","mtime":1662623271902},{"path":"D:\\Less\\小罗音乐\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662623268261},{"path":"D:\\Less\\小罗音乐\\node_modules\\vue-loader\\lib\\index.js","mtime":1662623271232}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tgetSongUrl,\n\tgetLyric\n} from '../.././plugins/music.js'\nimport {\n\tgetmiao,\n\tgetlyric,\n\tgettime1\n} from '../../general/regular.js'\nimport {\n\tgetCommentNew\n} from '../.././plugins/comment.js'\n\nexport default {\n\tname: 'strip',\n\tdata() {\n\t\treturn {\n\t\t\tofno: false, //音乐播放状态\n\t\t\tcycle: 1, //循环播放状态\n\t\t\tvolume: true, //音量是否静音\n\t\t\tblock: {\n\t\t\t\tdisplay: 'none' //\n\t\t\t},\n\t\t\trise: false, //lyric是否出现\n\t\t\triseTop: {\n\t\t\t\ttop: 0 + 'px'\n\t\t\t},\n\n\n\n\t\t\tProgressBarWidth: 0, //进度条起始位置\n\t\t\tmouseWidth: 0, //鼠标点击位置\n\t\t\tballLeft: {\n\t\t\t\tleft: -4 + 'px' //小球该位移的距离\n\t\t\t},\n\t\t\tbarWidth: {\n\t\t\t\twidth: 0 + 'px' //播放进度\n\t\t\t},\n\t\t\tsong: {\n\t\t\t\turl: '',\n\t\t\t\ttime: '',\n\t\t\t\tnickname: '',\n\t\t\t\tname: '',\n\t\t\t\tlyric: '',\n\t\t\t\timg: ''\n\t\t\t},\n\t\t\tismop: false, //是否处于拖拽状态\n\t\t\tattime: 0, //当前播放时长(未换算)\n\t\t\tgettime: '00:00', //当前播放时长(换算)\n\t\t\tsettime: '', //播放定时器(获取已播时间)\n\n\t\t\t//歌词部分\n\t\t\tlyric: {\n\t\t\t\tlyricindex: 0\n\t\t\t},\n\t\t\tlyricHeight: {\n\t\t\t\theight: ''\n\t\t\t}, //歌词界面的高度\t\t\n\t\t\tLyricProgressBarWidth: 0, //进度条起始位置\n\t\t\tLyricmouseWidth: 0, //鼠标点击位置\n\t\t\tLyricballLeft: {\n\t\t\t\tleft: -4 + 'px' //小球该位移的距离\n\t\t\t},\n\t\t\tLyricbarWidth: {\n\t\t\t\twidth: 0 + 'px' //播放进度\n\t\t\t},\n\t\t}\n\t},\n\tmethods: {\n\t\tztbf() {\n\t\t\tthis.ofno = !this.ofno\n\t\t\tif (this.fmplay == true) {\n\t\t\t\tthis.$store.dispatch('fmplay', this.ofno) //FM的播放状态\n\t\t\t}\n\t\t\tif (this.ofno) {\n\t\t\t\tthis.settime = setInterval(() => {\n\t\t\t\t\tthis.attime++\n\t\t\t\t}, 1000)\n\t\t\t} else {\n\t\t\t\tclearInterval(this.settime)\n\t\t\t}\n\n\n\t\t},\n\t\t//播放完后触发事件\n\t\tended() {\n\n\t\t},\n\t\t//循环播放状态\n\t\tiscycle(id) {\n\t\t\tthis.cycle = id\n\t\t},\n\t\t//音量是否静音\n\t\tisvolume() {\n\t\t\tthis.volume = !this.volume\n\t\t},\n\t\thover() {\n\t\t\tthis.$refs.h.onclick = e => {\n\t\t\t\tconsole.log(e.clientX);\n\t\t\t\tthis.LyricballLeft.left = (e.offsetX - 4) + 'px'\n\t\t\t\tthis.LyricbarWidth.width = (e.offsetX) + 'px'\n\t\t\t\tthis.attime = Math.ceil((e.offsetX / (130 / this.$refs.audio.duration)))\n\t\t\t}\n\n\t\t\t//拖动\n\t\t\tthis.$refs.i1.onmousedown = e => {\n\t\t\t\tdocument.onmousemove = e => {\n\t\t\t\t\tthis.ismop = true\n\t\t\t\t\tlet x = e.clientX - this.LyricProgressBarWidth\n\t\t\t\t\tif (x >= 0 && x <= 130) {\n\t\t\t\t\t\tthis.LyricballLeft.left = (x - 4) + 'px'\n\t\t\t\t\t\tthis.LyricbarWidth.width = x + 'px'\n\t\t\t\t\t\t// this.attime=Math.floor((e.offsetX/(324/this.$refs.audio.duration)))\n\t\t\t\t\t} else if (x <= 0) {\n\t\t\t\t\t\tthis.LyricballLeft.left = -4 + 'px'\n\t\t\t\t\t\tthis.LyricbarWidth.width = 0 + 'px'\n\t\t\t\t\t\tthis.attime = 0\n\t\t\t\t\t} else if (x > 130) {\n\t\t\t\t\t\tthis.LyricballLeft.left = 126 + 'px'\n\t\t\t\t\t\tthis.LyricbarWidth.width = 130 + 'px'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdocument.onmouseup = e => {\n\t\t\t\t\tthis.ismop = false\n\t\t\t\t\tdocument.onmousemove = null\n\t\t\t\t\tdocument.onmouseup = null\n\t\t\t\t}\n\t\t\t\treturn false //阻止默认行为\n\t\t\t}\n\n\t\t},\n\t\t//鼠标移入事件\n\t\tover() {\n\t\t\t//点击改变小球和进度条位置\n\t\t\tthis.$refs.f.onclick = e => {\n\t\t\t\tthis.ballLeft.left = (e.offsetX - 4) + 'px'\n\t\t\t\tthis.barWidth.width = (e.offsetX) + 'px'\n\t\t\t\tthis.attime = Math.ceil((e.offsetX / (324 / this.$refs.audio.duration)))\n\t\t\t}\n\t\t\t//拖动\n\t\t\tthis.$refs.up.onmousedown = e => {\n\t\t\t\tdocument.onmousemove = e => {\n\t\t\t\t\tthis.ismop = true\n\t\t\t\t\tlet x = e.clientX - this.ProgressBarWidth\n\t\t\t\t\tif (x >= 0 && x <= 324) {\n\t\t\t\t\t\tthis.ballLeft.left = (x - 4) + 'px'\n\t\t\t\t\t\tthis.barWidth.width = x + 'px'\n\t\t\t\t\t\tthis.attime = Math.ceil((e.offsetX / (324 / this.$refs.audio.duration)))\n\t\t\t\t\t} else if (x <= 0) {\n\t\t\t\t\t\tthis.ballLeft.left = -4 + 'px'\n\t\t\t\t\t\tthis.barWidth.width = 0 + 'px'\n\t\t\t\t\t\tthis.attime = 0\n\t\t\t\t\t} else if (x > 324) {\n\t\t\t\t\t\tthis.ballLeft.left = 320 + 'px'\n\t\t\t\t\t\tthis.barWidth.width = 324 + 'px'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tdocument.onmouseup = e => {\n\t\t\t\t\tthis.ismop = false\n\t\t\t\t\tdocument.onmousemove = null\n\t\t\t\t\tdocument.onmouseup = null\n\t\t\t\t}\n\t\t\t\treturn false //阻止默认行为\n\t\t\t}\n\t\t},\n\t\ttimeupdate(e) {\n\t\t\t// if(!this.ismop){\n\t\t\t// \t// this.attime=Math.floor(e.target.currentTime)\n\t\t\t// \tthis.ballLeft.left =(324/this.$refs.audio.duration)*this.attime-4+'px'\n\t\t\t// \tthis.barWidth.width =(324/this.$refs.audio.duration)*this.attime+'px'\n\t\t\t// }\n\t\t},\n\t\tov() {\n\t\t\t// let a = this.$refs.ov.scrollTop\n\t\t\t// let b = Math.floor(a)\n\t\t\t// for (let i = 0; i < this.scrollArr.length; i++) {\n\t\t\t// \tif (b > this.scrollArr[i - 3]) {\n\t\t\t// \t\tthis.scrollindex = i\n\t\t\t// \t}\n\t\t\t// }\n\t\t},\n\t\tdisplay() {\n\t\t\tthis.block.display = 'block'\n\t\t},\n\t\tnone() {\n\t\t\tthis.block.display = 'none'\n\t\t},\n\t\t//歌词界面渐入渐出\n\t\tgoup() {\n\t\t\tlet h = document.body.clientHeight\n\t\t\tthis.rise = !this.rise\n\t\t\tif (this.rise) {\n\t\t\t\tlet i = 0\n\t\t\t\tlet time = setInterval(() => {\n\t\t\t\t\tthis.riseTop.top = (h - (i * 40)) + 'px'\n\t\t\t\t\ti++\n\t\t\t\t\tif ((h - (i * 40)) <= 0) {\n\t\t\t\t\t\tthis.riseTop.top = 0 + 'px'\n\t\t\t\t\t\tclearInterval(time)\n\t\t\t\t\t}\n\t\t\t\t}, 10)\n\t\t\t} else {\n\t\t\t\tlet i = 0\n\t\t\t\tlet time1 = setInterval(() => {\n\t\t\t\t\t\tthis.riseTop.top = (0 + (i * 50)) + 'px'\n\t\t\t\t\t\ti++\n\t\t\t\t\t\tif ((0 + (i * 50)) >= h) {\n\t\t\t\t\t\t\tthis.riseTop.top = h + 'px'\n\t\t\t\t\t\t\tclearInterval(time1)\n\t\t\t\t\t\t}\n\t\t\t\t\t},10)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tissong() {\n\t\t\t\treturn this.$store.state.song\n\t\t\t},\n\t\t\tfm() {\n\t\t\t\treturn this.$store.state.fm\n\t\t\t},\n\t\t\tistime() {\n\t\t\t\treturn getmiao(this.song.time)\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\tattime: {\n\t\t\t\thandler(value) {\n\t\t\t\t\tlet i = 0\n\t\t\t\t\tlet a = Math.floor(value / 60)\n\t\t\t\t\tlet b = value % 60\n\t\t\t\t\tif (a < 10) {\n\t\t\t\t\t\ta = '0' + a\n\t\t\t\t\t}\n\t\t\t\t\tif (b < 10) {\n\t\t\t\t\t\tb = '0' + b\n\t\t\t\t\t}\n\t\t\t\t\tthis.gettime = a + ':' + b\n\t\t\t\t\tthis.$refs.audio.currentTime = value\n\n\t\t\t\t\tfor (let key in this.song.lyric) {\n\t\t\t\t\t\tif (+key == value) {\n\t\t\t\t\t\t\tthis.lyric.lyricindex = i\n\t\t\t\t\t\t\t// this.lyric.lyrickey = this.hs\n\t\t\t\t\t\t\tthis.$refs.ov.scrollTop = i * 34\n\t\t\t\t\t\t}\n\t\t\t\t\t\ti++\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tissong: {\n\t\t\t\thandler(value) {\n\t\t\t\t\tthis.song = value\n\t\t\t\t\tlet id = value.id\n\t\t\t\t\tthis.ofno = true\n\t\t\t\t\tgetSongUrl({\n\t\t\t\t\t\tid: id,\n\t\t\t\t\t\tlevel: 'higher'\n\t\t\t\t\t}).then(res => {\n\t\t\t\t\t\tthis.song.url = res.data.data[0].url\n\t\t\t\t\t\tthis.song.time = getmiao(res.data.data[0].time)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\tofno: {\n\t\t\t\thandler(value) {\n\t\t\t\t\tif (value == true) {\n\t\t\t\t\t\tthis.$refs.audio.play()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$refs.audio.pause()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t// plays: {\n\t\t\t// \thandler(value) {\n\t\t\t// \t\tlet i = 0\n\t\t\t// \t\tlet a = Math.floor(value / 60)\n\t\t\t// \t\tlet b = value % 60\n\t\t\t// \t\tif (a < 10) {\n\t\t\t// \t\t\ta = '0' + a\n\t\t\t// \t\t}\n\t\t\t// \t\tif (b < 10) {\n\t\t\t// \t\t\tb = '0' + b\n\t\t\t// \t\t}\n\t\t\t// \t\tthis.hs = a + ':' + b\n\n\t\t\t// \t\tlet k = ''\n\t\t\t// \t\tlet v = ''\n\n\t\t\t// \t\tfor (let key in this.audio.lyrobj) {\n\t\t\t// \t\t\tif (+key == value) {\n\t\t\t// \t\t\t\tthis.lyric.lyricindex = i\n\t\t\t// \t\t\t\tthis.lyric.lyrickey = this.hs\n\t\t\t// \t\t\t\tthis.$refs.ov.scrollTop = i * 34\n\t\t\t// \t\t\t}\n\t\t\t// \t\t\ti++\n\t\t\t// \t\t}\n\t\t\t// \t\tthis.$refs.audio.currentTime=value\n\t\t\t// \t}\n\t\t\t// },\n\t\t\t// volume: {\n\t\t\t// \thandler(value) {\n\t\t\t// \t\tif (value == false) {\n\t\t\t// \t\t\tthis.audio.muted = this.top.top\n\t\t\t// \t\t\tthis.audio.mutedyl = this.yl\n\t\t\t// \t\t\tthis.top.top = 80 + 'px'\n\t\t\t// \t\t\tthis.yl = 0\n\t\t\t// \t\t\tthis.$refs.audio.volume = 0\n\t\t\t// \t\t} else {\n\t\t\t// \t\t\tthis.top.top = this.audio.muted\n\t\t\t// \t\t\tthis.yl = this.audio.mutedyl\n\t\t\t// \t\t}\n\t\t\t// \t}\n\t\t\t// },\n\t\t\t// yl: {\n\t\t\t// \thandler(value) {\n\t\t\t// \t\tthis.$refs.audio.volume = value\n\t\t\t// \t}\n\t\t\t// },\n\t\t\t// fm:{\n\t\t\t// \tdeep:true,\n\t\t\t// \thandler(value){\n\t\t\t// \t\tif(value!==false){\n\t\t\t// \t\t\tthis.fmplay=true\n\t\t\t// \t\t\tthis.$refs.audio.src=value.url\n\t\t\t// \t\t}else{\n\t\t\t// \t\t\tthis.fmplay=false\n\t\t\t// \t\t\tthis.$refs.audio.src=this.muice.url\n\t\t\t// \t\t}\n\t\t\t// \t}\n\t\t\t// },\n\n\t\t},\n\t\tmounted() {\n\t\t\tlet data = JSON.parse(localStorage.getItem('song'))\n\t\t\tthis.song.img = data.al.picUrl\n\t\t\tthis.song.name = data.name\n\t\t\tthis.song.nickname = data.ar\n\t\t\tgetSongUrl({\n\t\t\t\tid: data.id,\n\t\t\t\tlevel: 'higher'\n\t\t\t}).then(res => {\n\t\t\t\tthis.song.url = res.data.data[0].url\n\t\t\t\tthis.song.time = res.data.data[0].time\n\t\t\t})\n\t\t\tgetLyric({\n\t\t\t\tid: data.id\n\t\t\t}).then(res => {\n\t\t\t\tthis.song.lyric = getlyric(res.data.lrc.lyric)\n\t\t\t})\n\n\t\t\tthis.lyricHeight.height = (document.body.offsetHeight) + 'px'\n\n\n\n\n\t\t\t//进度条初始位置\n\t\t\tthis.LyricProgressBarWidth = Math.floor((document.body.clientWidth - 855) / 2 + 147.5)\n\t\t\tthis.ProgressBarWidth = Math.floor((document.body.clientWidth - 324) / 2)\n\t\t\t//歌词面板top\n\t\t\tthis.riseTop.top = document.body.clientHeight + 'px'\n\t\t\twindow.onresize = () => {\n\t\t\t\tthis.riseTop.top = document.body.clientHeight + 'px'\n\t\t\t\tthis.lyricHeight.height = (document.body.offsetHeight) + 'px'\n\t\t\t\tthis.LyricProgressBarWidth = Math.floor((document.body.clientWidth - 855) / 2 + 147.5)\n\t\t\t\tthis.ProgressBarWidth = Math.floor((document.body.clientWidth - 324) / 2)\n\t\t\t}\n\n\n\t\t},\n\t\tupdated() {\n\t\t\t// \t// if (this.ofno == true) {\n\t\t\t// \t// \tthis.$refs.audio.play()\n\t\t\t// \t// }\n\n\n\n\t\t}\n\n\t}\n",{"version":3,"sources":["strip.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;;;AAIA;;AAEA","file":"strip.vue","sourceRoot":"src/pages/Footers","sourcesContent":["<template>\r\n\t<div class=\"box\" ref=\"box\">\r\n\t\t<div class=\"playlist\">\r\n\t\t\t<div id=\"song\">\r\n\t\t\t\t<div id=\"img\" @mouseover=\"display\">\r\n\t\t\t\t\t<img :src=\"song.img\" alt=\"\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div id=\"yy\" :style=\"block\" @mouseout=\"none\" @click=\"goup\">\r\n\t\t\t\t\t<i class=\"iconfont icon-xiangshangjiantou\" style=\"pointer-events: none;\"></i>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div id=\"name\">\r\n\t\t\t\t\t<div id=\"songname\">\r\n\t\t\t\t\t\t<!-- {{!fm?song.al.name:fm.name}} -->\r\n\t\t\t\t\t\t<i class=\"iconfont icon-xihuan\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"cinkname\">\r\n\t\t\t\t\t\t<!-- <span v-for=\"(item,index) in song.ar\" v-show=\"!fm\">\r\n\t\t\t\t\t\t\t{{index!=0?'/'+item.name:item.name}}\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t<span v-for=\"(item,index) in fm.song\" v-show=\"fm\">\r\n\t\t\t\t\t\t\t{{index!=0?'/'+item.name:item.name}}\r\n\t\t\t\t\t\t</span> -->\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!-- 播放器 -->\r\n\t\t\t<div id=\"player\">\r\n\t\t\t\t<div id=\"button\">\r\n\t\t\t\t\t<audio ref=\"audio\" @ended=\"ended\" :src=\"song.url\" @timeupdate=\"timeupdate\">\r\n\r\n\t\t\t\t\t</audio>\r\n\t\t\t\t\t<i v-show=\"cycle==1\" @click=\"iscycle(2)\" class=\"iconfont icon-24gl-repeat2\"></i>\r\n\t\t\t\t\t<i v-show=\"cycle==2\" @click=\"iscycle(3)\" class=\"iconfont icon-danquxunhuan\"></i>\r\n\t\t\t\t\t<i v-show=\"cycle==3\" @click=\"iscycle(1)\" class=\"iconfont icon-24gl-repeatInfinite2\"></i>\r\n\t\t\t\t\t<i class=\"iconfont icon-shangyishou\"></i>\r\n\t\t\t\t\t<p id=\"p\" @click=\"ztbf\">\r\n\t\t\t\t\t\t<span v-show=\"ofno==true\" class=\"iconfont icon-zanting3\" style=\"font-size: 12px;\"></span>\r\n\t\t\t\t\t\t<span v-show=\"ofno==false\" class=\"iconfont icon-24gf-play\" style=\"font-size: 12px;\"></span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<i class=\"iconfont icon-xiayishou\"></i>\r\n\t\t\t\t\t<i>词</i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id=\"bar\">\r\n\t\t\t\t\t<span>{{gettime}}</span>\r\n\t\t\t\t\t<div id=\"f\" ref=\"f\" @mouseover=\"over\">\r\n\t\t\t\t\t\t<p id=\"p\" ref=\"bar\"></p>\r\n\t\t\t\t\t\t<i id=\"i\" ref=\"up\" :style=\"ballLeft\"></i>\r\n\t\t\t\t\t\t<p id=\"p2\" :style=\"barWidth\"></p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<span>{{istime}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<!--  -->\r\n\t\t\t<div id=\"key\">\r\n\t\t\t\t<i class=\"iconfont icon-bofangliebiao\"></i>\r\n\t\t\t\t<i v-show=\"volume==true\" @click=\"isvolume\" class=\"iconfont icon-weibiaoti-2\"></i>\r\n\t\t\t\t<i v-show=\"volume==false\" @click=\"isvolume\" class=\"iconfont icon-weibiaoti-\"></i>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div id=\"volume\" ref=\"volume\">\r\n\t\t\t\t\t\t<p ref=\"p\"></p>\r\n\t\t\t\t\t\t<i ref=\"sound\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<span><span>标准</span></span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\r\n\t\t<div class=\"lyric\" :style=\"{height:lyricHeight.height,backgroundImage:'url('+song.img+')',top:riseTop.top}\">\r\n\t\t\t<div class=\"box\">\r\n\t\t\t\t<i class=\"iconfont icon-xiangxia\" @click=\"goup\"></i>\r\n\t\t\t\t<div id=\"main\">\r\n\t\t\t\t\t<div id=\"book\">\r\n\t\t\t\t\t\t<div id=\"img\">\r\n\t\t\t\t\t\t\t<div id=\"outer\">\r\n\t\t\t\t\t\t\t\t<img :src=\"song.img\" alt=\"\">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id=\"name\">\r\n\t\t\t\t\t\t\t\t<span>{{song.name}}</span>\r\n\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t<span v-for=\"(item,index) in song.nickname\">\r\n\t\t\t\t\t\t\t\t\t\t{{index==0?item.name:'/'+item.name}}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id=\"table\">\r\n\t\t\t\t\t\t\t\t<i class=\"iconfont icon-liebiao\"></i>\r\n\t\t\t\t\t\t\t\t<i class=\"iconfont icon-shangyishou\"></i>\r\n\t\t\t\t\t\t\t\t<i class=\"iconfont icon-zanting3\" v-show=\"ofno\" @click=\"ztbf\"></i>\r\n\t\t\t\t\t\t\t\t<i class=\"iconfont icon-24gf-play\" v-show=\"!ofno\" @click=\"ztbf\"></i>\r\n\t\t\t\t\t\t\t\t<i class=\"iconfont icon-xiayishou\"></i>\r\n\t\t\t\t\t\t\t\t<i class=\"iconfont icon-24gl-repeat2\"></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div id=\"jdt\">\r\n\t\t\t\t\t\t\t\t<span>{{gettime}}</span>\r\n\t\t\t\t\t\t\t\t<div id=\"h\" ref=\"h\" @mouseover='hover'>\r\n\t\t\t\t\t\t\t\t\t<p id=\"p1\" ref=\"p1\"></p>\r\n\t\t\t\t\t\t\t\t\t<i id=\"i1\" ref=\"i1\" :style=\"LyricballLeft\"></i>\r\n\t\t\t\t\t\t\t\t\t<p id=\"p2\" :style=\"LyricbarWidth\"></p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<span>{{istime}}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div id=\"text\">\r\n\t\t\t\t\t\t\t<div id=\"lyric\">\r\n\t\t\t\t\t\t\t\t<div class=\"ov\" ref=\"ov\" @mousewheel='ov'>\r\n\t\t\t\t\t\t\t\t\t<div id=\"content\">\r\n\t\t\t\t\t\t\t\t\t\t<ul ref=\"ul\">\r\n\t\t\t\t\t\t\t\t\t\t\t<li></li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li></li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li></li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li></li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li></li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li v-for=\"(item,key,index) in song.lyric\" :key='key' :class=\"{'time':\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t(index==lyric.lyricindex)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{item}}\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- :class=\"{'time':\r\n\t\t\t\t\t\t\t\t\t\t\t\t//(index==lyric.lyricindex)\t\t\t//(index==scrollindex)||\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\" -->\r\n\t\t\t\t\t\t\t\t\t\t\t<li></li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li></li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li></li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li></li>\r\n\t\t\t\t\t\t\t\t\t\t\t<li></li>\r\n\t\t\t\t\t\t\t\t\t\t\t<!-- <div id=\"node\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{{lyric.lyrickey}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span id=\"x\"></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span id=\"x\"></span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"iconfont icon-bofang5\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle=\"font-size: 12px; color: #3a3a3a; \"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetSongUrl,\r\n\t\tgetLyric\r\n\t} from '../.././plugins/music.js'\r\n\timport {\r\n\t\tgetmiao,\r\n\t\tgetlyric,\r\n\t\tgettime1\r\n\t} from '../../general/regular.js'\r\n\timport {\r\n\t\tgetCommentNew\r\n\t} from '../.././plugins/comment.js'\r\n\r\n\texport default {\r\n\t\tname: 'strip',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tofno: false, //音乐播放状态\r\n\t\t\t\tcycle: 1, //循环播放状态\r\n\t\t\t\tvolume: true, //音量是否静音\r\n\t\t\t\tblock: {\r\n\t\t\t\t\tdisplay: 'none' //\r\n\t\t\t\t},\r\n\t\t\t\trise: false, //lyric是否出现\r\n\t\t\t\triseTop: {\r\n\t\t\t\t\ttop: 0 + 'px'\r\n\t\t\t\t},\r\n\r\n\r\n\r\n\t\t\t\tProgressBarWidth: 0, //进度条起始位置\r\n\t\t\t\tmouseWidth: 0, //鼠标点击位置\r\n\t\t\t\tballLeft: {\r\n\t\t\t\t\tleft: -4 + 'px' //小球该位移的距离\r\n\t\t\t\t},\r\n\t\t\t\tbarWidth: {\r\n\t\t\t\t\twidth: 0 + 'px' //播放进度\r\n\t\t\t\t},\r\n\t\t\t\tsong: {\r\n\t\t\t\t\turl: '',\r\n\t\t\t\t\ttime: '',\r\n\t\t\t\t\tnickname: '',\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tlyric: '',\r\n\t\t\t\t\timg: ''\r\n\t\t\t\t},\r\n\t\t\t\tismop: false, //是否处于拖拽状态\r\n\t\t\t\tattime: 0, //当前播放时长(未换算)\r\n\t\t\t\tgettime: '00:00', //当前播放时长(换算)\r\n\t\t\t\tsettime: '', //播放定时器(获取已播时间)\r\n\r\n\t\t\t\t//歌词部分\r\n\t\t\t\tlyric: {\r\n\t\t\t\t\tlyricindex: 0\r\n\t\t\t\t},\r\n\t\t\t\tlyricHeight: {\r\n\t\t\t\t\theight: ''\r\n\t\t\t\t}, //歌词界面的高度\t\t\r\n\t\t\t\tLyricProgressBarWidth: 0, //进度条起始位置\r\n\t\t\t\tLyricmouseWidth: 0, //鼠标点击位置\r\n\t\t\t\tLyricballLeft: {\r\n\t\t\t\t\tleft: -4 + 'px' //小球该位移的距离\r\n\t\t\t\t},\r\n\t\t\t\tLyricbarWidth: {\r\n\t\t\t\t\twidth: 0 + 'px' //播放进度\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tztbf() {\r\n\t\t\t\tthis.ofno = !this.ofno\r\n\t\t\t\tif (this.fmplay == true) {\r\n\t\t\t\t\tthis.$store.dispatch('fmplay', this.ofno) //FM的播放状态\r\n\t\t\t\t}\r\n\t\t\t\tif (this.ofno) {\r\n\t\t\t\t\tthis.settime = setInterval(() => {\r\n\t\t\t\t\t\tthis.attime++\r\n\t\t\t\t\t}, 1000)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tclearInterval(this.settime)\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t},\r\n\t\t\t//播放完后触发事件\r\n\t\t\tended() {\r\n\r\n\t\t\t},\r\n\t\t\t//循环播放状态\r\n\t\t\tiscycle(id) {\r\n\t\t\t\tthis.cycle = id\r\n\t\t\t},\r\n\t\t\t//音量是否静音\r\n\t\t\tisvolume() {\r\n\t\t\t\tthis.volume = !this.volume\r\n\t\t\t},\r\n\t\t\thover() {\r\n\t\t\t\tthis.$refs.h.onclick = e => {\r\n\t\t\t\t\tconsole.log(e.clientX);\r\n\t\t\t\t\tthis.LyricballLeft.left = (e.offsetX - 4) + 'px'\r\n\t\t\t\t\tthis.LyricbarWidth.width = (e.offsetX) + 'px'\r\n\t\t\t\t\tthis.attime = Math.ceil((e.offsetX / (130 / this.$refs.audio.duration)))\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//拖动\r\n\t\t\t\tthis.$refs.i1.onmousedown = e => {\r\n\t\t\t\t\tdocument.onmousemove = e => {\r\n\t\t\t\t\t\tthis.ismop = true\r\n\t\t\t\t\t\tlet x = e.clientX - this.LyricProgressBarWidth\r\n\t\t\t\t\t\tif (x >= 0 && x <= 130) {\r\n\t\t\t\t\t\t\tthis.LyricballLeft.left = (x - 4) + 'px'\r\n\t\t\t\t\t\t\tthis.LyricbarWidth.width = x + 'px'\r\n\t\t\t\t\t\t\t// this.attime=Math.floor((e.offsetX/(324/this.$refs.audio.duration)))\r\n\t\t\t\t\t\t} else if (x <= 0) {\r\n\t\t\t\t\t\t\tthis.LyricballLeft.left = -4 + 'px'\r\n\t\t\t\t\t\t\tthis.LyricbarWidth.width = 0 + 'px'\r\n\t\t\t\t\t\t\tthis.attime = 0\r\n\t\t\t\t\t\t} else if (x > 130) {\r\n\t\t\t\t\t\t\tthis.LyricballLeft.left = 126 + 'px'\r\n\t\t\t\t\t\t\tthis.LyricbarWidth.width = 130 + 'px'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdocument.onmouseup = e => {\r\n\t\t\t\t\t\tthis.ismop = false\r\n\t\t\t\t\t\tdocument.onmousemove = null\r\n\t\t\t\t\t\tdocument.onmouseup = null\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false //阻止默认行为\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\t//鼠标移入事件\r\n\t\t\tover() {\r\n\t\t\t\t//点击改变小球和进度条位置\r\n\t\t\t\tthis.$refs.f.onclick = e => {\r\n\t\t\t\t\tthis.ballLeft.left = (e.offsetX - 4) + 'px'\r\n\t\t\t\t\tthis.barWidth.width = (e.offsetX) + 'px'\r\n\t\t\t\t\tthis.attime = Math.ceil((e.offsetX / (324 / this.$refs.audio.duration)))\r\n\t\t\t\t}\r\n\t\t\t\t//拖动\r\n\t\t\t\tthis.$refs.up.onmousedown = e => {\r\n\t\t\t\t\tdocument.onmousemove = e => {\r\n\t\t\t\t\t\tthis.ismop = true\r\n\t\t\t\t\t\tlet x = e.clientX - this.ProgressBarWidth\r\n\t\t\t\t\t\tif (x >= 0 && x <= 324) {\r\n\t\t\t\t\t\t\tthis.ballLeft.left = (x - 4) + 'px'\r\n\t\t\t\t\t\t\tthis.barWidth.width = x + 'px'\r\n\t\t\t\t\t\t\tthis.attime = Math.ceil((e.offsetX / (324 / this.$refs.audio.duration)))\r\n\t\t\t\t\t\t} else if (x <= 0) {\r\n\t\t\t\t\t\t\tthis.ballLeft.left = -4 + 'px'\r\n\t\t\t\t\t\t\tthis.barWidth.width = 0 + 'px'\r\n\t\t\t\t\t\t\tthis.attime = 0\r\n\t\t\t\t\t\t} else if (x > 324) {\r\n\t\t\t\t\t\t\tthis.ballLeft.left = 320 + 'px'\r\n\t\t\t\t\t\t\tthis.barWidth.width = 324 + 'px'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdocument.onmouseup = e => {\r\n\t\t\t\t\t\tthis.ismop = false\r\n\t\t\t\t\t\tdocument.onmousemove = null\r\n\t\t\t\t\t\tdocument.onmouseup = null\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false //阻止默认行为\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttimeupdate(e) {\r\n\t\t\t\t// if(!this.ismop){\r\n\t\t\t\t// \t// this.attime=Math.floor(e.target.currentTime)\r\n\t\t\t\t// \tthis.ballLeft.left =(324/this.$refs.audio.duration)*this.attime-4+'px'\r\n\t\t\t\t// \tthis.barWidth.width =(324/this.$refs.audio.duration)*this.attime+'px'\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\tov() {\r\n\t\t\t\t// let a = this.$refs.ov.scrollTop\r\n\t\t\t\t// let b = Math.floor(a)\r\n\t\t\t\t// for (let i = 0; i < this.scrollArr.length; i++) {\r\n\t\t\t\t// \tif (b > this.scrollArr[i - 3]) {\r\n\t\t\t\t// \t\tthis.scrollindex = i\r\n\t\t\t\t// \t}\r\n\t\t\t\t// }\r\n\t\t\t},\r\n\t\t\tdisplay() {\r\n\t\t\t\tthis.block.display = 'block'\r\n\t\t\t},\r\n\t\t\tnone() {\r\n\t\t\t\tthis.block.display = 'none'\r\n\t\t\t},\r\n\t\t\t//歌词界面渐入渐出\r\n\t\t\tgoup() {\r\n\t\t\t\tlet h = document.body.clientHeight\r\n\t\t\t\tthis.rise = !this.rise\r\n\t\t\t\tif (this.rise) {\r\n\t\t\t\t\tlet i = 0\r\n\t\t\t\t\tlet time = setInterval(() => {\r\n\t\t\t\t\t\tthis.riseTop.top = (h - (i * 40)) + 'px'\r\n\t\t\t\t\t\ti++\r\n\t\t\t\t\t\tif ((h - (i * 40)) <= 0) {\r\n\t\t\t\t\t\t\tthis.riseTop.top = 0 + 'px'\r\n\t\t\t\t\t\t\tclearInterval(time)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 10)\r\n\t\t\t\t} else {\r\n\t\t\t\t\tlet i = 0\r\n\t\t\t\t\tlet time1 = setInterval(() => {\r\n\t\t\t\t\t\t\tthis.riseTop.top = (0 + (i * 50)) + 'px'\r\n\t\t\t\t\t\t\ti++\r\n\t\t\t\t\t\t\tif ((0 + (i * 50)) >= h) {\r\n\t\t\t\t\t\t\t\tthis.riseTop.top = h + 'px'\r\n\t\t\t\t\t\t\t\tclearInterval(time1)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},10)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcomputed: {\r\n\t\t\t\tissong() {\r\n\t\t\t\t\treturn this.$store.state.song\r\n\t\t\t\t},\r\n\t\t\t\tfm() {\r\n\t\t\t\t\treturn this.$store.state.fm\r\n\t\t\t\t},\r\n\t\t\t\tistime() {\r\n\t\t\t\t\treturn getmiao(this.song.time)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\twatch: {\r\n\t\t\t\tattime: {\r\n\t\t\t\t\thandler(value) {\r\n\t\t\t\t\t\tlet i = 0\r\n\t\t\t\t\t\tlet a = Math.floor(value / 60)\r\n\t\t\t\t\t\tlet b = value % 60\r\n\t\t\t\t\t\tif (a < 10) {\r\n\t\t\t\t\t\t\ta = '0' + a\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (b < 10) {\r\n\t\t\t\t\t\t\tb = '0' + b\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.gettime = a + ':' + b\r\n\t\t\t\t\t\tthis.$refs.audio.currentTime = value\r\n\r\n\t\t\t\t\t\tfor (let key in this.song.lyric) {\r\n\t\t\t\t\t\t\tif (+key == value) {\r\n\t\t\t\t\t\t\t\tthis.lyric.lyricindex = i\r\n\t\t\t\t\t\t\t\t// this.lyric.lyrickey = this.hs\r\n\t\t\t\t\t\t\t\tthis.$refs.ov.scrollTop = i * 34\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\ti++\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tissong: {\r\n\t\t\t\t\thandler(value) {\r\n\t\t\t\t\t\tthis.song = value\r\n\t\t\t\t\t\tlet id = value.id\r\n\t\t\t\t\t\tthis.ofno = true\r\n\t\t\t\t\t\tgetSongUrl({\r\n\t\t\t\t\t\t\tid: id,\r\n\t\t\t\t\t\t\tlevel: 'higher'\r\n\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\tthis.song.url = res.data.data[0].url\r\n\t\t\t\t\t\t\tthis.song.time = getmiao(res.data.data[0].time)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tofno: {\r\n\t\t\t\t\thandler(value) {\r\n\t\t\t\t\t\tif (value == true) {\r\n\t\t\t\t\t\t\tthis.$refs.audio.play()\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.$refs.audio.pause()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t// plays: {\r\n\t\t\t\t// \thandler(value) {\r\n\t\t\t\t// \t\tlet i = 0\r\n\t\t\t\t// \t\tlet a = Math.floor(value / 60)\r\n\t\t\t\t// \t\tlet b = value % 60\r\n\t\t\t\t// \t\tif (a < 10) {\r\n\t\t\t\t// \t\t\ta = '0' + a\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\tif (b < 10) {\r\n\t\t\t\t// \t\t\tb = '0' + b\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\tthis.hs = a + ':' + b\r\n\r\n\t\t\t\t// \t\tlet k = ''\r\n\t\t\t\t// \t\tlet v = ''\r\n\r\n\t\t\t\t// \t\tfor (let key in this.audio.lyrobj) {\r\n\t\t\t\t// \t\t\tif (+key == value) {\r\n\t\t\t\t// \t\t\t\tthis.lyric.lyricindex = i\r\n\t\t\t\t// \t\t\t\tthis.lyric.lyrickey = this.hs\r\n\t\t\t\t// \t\t\t\tthis.$refs.ov.scrollTop = i * 34\r\n\t\t\t\t// \t\t\t}\r\n\t\t\t\t// \t\t\ti++\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t\tthis.$refs.audio.currentTime=value\r\n\t\t\t\t// \t}\r\n\t\t\t\t// },\r\n\t\t\t\t// volume: {\r\n\t\t\t\t// \thandler(value) {\r\n\t\t\t\t// \t\tif (value == false) {\r\n\t\t\t\t// \t\t\tthis.audio.muted = this.top.top\r\n\t\t\t\t// \t\t\tthis.audio.mutedyl = this.yl\r\n\t\t\t\t// \t\t\tthis.top.top = 80 + 'px'\r\n\t\t\t\t// \t\t\tthis.yl = 0\r\n\t\t\t\t// \t\t\tthis.$refs.audio.volume = 0\r\n\t\t\t\t// \t\t} else {\r\n\t\t\t\t// \t\t\tthis.top.top = this.audio.muted\r\n\t\t\t\t// \t\t\tthis.yl = this.audio.mutedyl\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t}\r\n\t\t\t\t// },\r\n\t\t\t\t// yl: {\r\n\t\t\t\t// \thandler(value) {\r\n\t\t\t\t// \t\tthis.$refs.audio.volume = value\r\n\t\t\t\t// \t}\r\n\t\t\t\t// },\r\n\t\t\t\t// fm:{\r\n\t\t\t\t// \tdeep:true,\r\n\t\t\t\t// \thandler(value){\r\n\t\t\t\t// \t\tif(value!==false){\r\n\t\t\t\t// \t\t\tthis.fmplay=true\r\n\t\t\t\t// \t\t\tthis.$refs.audio.src=value.url\r\n\t\t\t\t// \t\t}else{\r\n\t\t\t\t// \t\t\tthis.fmplay=false\r\n\t\t\t\t// \t\t\tthis.$refs.audio.src=this.muice.url\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t}\r\n\t\t\t\t// },\r\n\r\n\t\t\t},\r\n\t\t\tmounted() {\r\n\t\t\t\tlet data = JSON.parse(localStorage.getItem('song'))\r\n\t\t\t\tthis.song.img = data.al.picUrl\r\n\t\t\t\tthis.song.name = data.name\r\n\t\t\t\tthis.song.nickname = data.ar\r\n\t\t\t\tgetSongUrl({\r\n\t\t\t\t\tid: data.id,\r\n\t\t\t\t\tlevel: 'higher'\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.song.url = res.data.data[0].url\r\n\t\t\t\t\tthis.song.time = res.data.data[0].time\r\n\t\t\t\t})\r\n\t\t\t\tgetLyric({\r\n\t\t\t\t\tid: data.id\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.song.lyric = getlyric(res.data.lrc.lyric)\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.lyricHeight.height = (document.body.offsetHeight) + 'px'\r\n\r\n\r\n\r\n\r\n\t\t\t\t//进度条初始位置\r\n\t\t\t\tthis.LyricProgressBarWidth = Math.floor((document.body.clientWidth - 855) / 2 + 147.5)\r\n\t\t\t\tthis.ProgressBarWidth = Math.floor((document.body.clientWidth - 324) / 2)\r\n\t\t\t\t//歌词面板top\r\n\t\t\t\tthis.riseTop.top = document.body.clientHeight + 'px'\r\n\t\t\t\twindow.onresize = () => {\r\n\t\t\t\t\tthis.riseTop.top = document.body.clientHeight + 'px'\r\n\t\t\t\t\tthis.lyricHeight.height = (document.body.offsetHeight) + 'px'\r\n\t\t\t\t\tthis.LyricProgressBarWidth = Math.floor((document.body.clientWidth - 855) / 2 + 147.5)\r\n\t\t\t\t\tthis.ProgressBarWidth = Math.floor((document.body.clientWidth - 324) / 2)\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t},\r\n\t\t\tupdated() {\r\n\t\t\t\t// \t// if (this.ofno == true) {\r\n\t\t\t\t// \t// \tthis.$refs.audio.play()\r\n\t\t\t\t// \t// }\r\n\r\n\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.box {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.playlist {\r\n\t\tz-index: 9;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-top: 1px #e1e1e1 solid;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\timg {\r\n\t\ttop: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t#song {\r\n\t\twidth: 210px;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t#song #img {\r\n\t\tmargin: 0 8px 0 10px;\r\n\t\twidth: 42px;\r\n\t\theight: 42px;\r\n\t\tborder-radius: 3px;\r\n\t}\r\n\r\n\t#song #yy {\r\n\t\tmargin: 0 8px 0 10px;\r\n\t\twidth: 42px;\r\n\t\theight: 42px;\r\n\t\ttext-align: center;\r\n\t\tline-height: 42px;\r\n\t\tborder-radius: 3px;\r\n\t\tmargin-left: -50px;\r\n\t\tcolor: #fff;\r\n\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t}\r\n\r\n\r\n\r\n\t#song #img img {\r\n\t\tborder-radius: 3px;\r\n\t}\r\n\r\n\t#song #name {\r\n\t\tmax-width: 135px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t#song #name #songname {\r\n\t\tfont-size: 14px;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t#song #name #cinkname {\r\n\t\tfont-size: 12px;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\r\n\r\n\t#player {\r\n\t\twidth: 420px;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t#player #button {\r\n\t\twidth: 195px;\r\n\t\theight: 32px;\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-top: 10px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t#player #button i {\r\n\t\tfont-size: 18px;\r\n\t\tcolor: #313131;\r\n\t}\r\n\r\n\t#player #button i:hover {\r\n\t\tcolor: #FF7A9E;\r\n\t}\r\n\r\n\t#player #button #p {\r\n\t\twidth: 32px;\r\n\t\theight: 32px;\r\n\t\tborder-radius: 50%;\r\n\t\tline-height: 32px;\r\n\t\ttext-align: center;\r\n\t\tbackground-color: #F5F5F5;\r\n\t}\r\n\r\n\r\n\r\n\t#player #bar {\r\n\t\twidth: 100%;\r\n\t\theight: 18px;\r\n\t\tfont-size: 12px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tcolor: #CECECE;\r\n\t}\r\n\r\n\t#f {\r\n\t\tposition: relative;\r\n\t\twidth: 324px;\r\n\t\theight: 100% !important;\r\n\t}\r\n\r\n\r\n\t#player #bar div p:nth-child(1) {\r\n\t\tdisplay: block;\r\n\t\twidth: 100%;\r\n\t\theight: 2px;\r\n\t\tmargin-top: 8px;\r\n\t\tbackground-color: #CECECE;\r\n\t}\r\n\r\n\r\n\t#player #bar div p:nth-child(3) {\r\n\t\twidth: 0px;\r\n\t\theight: 2px;\r\n\t\tbackground-color: #FF7A9E;\r\n\t\tposition: absolute;\r\n\t\ttop: 8px;\r\n\t}\r\n\r\n\t#f:hover #p2 {\r\n\t\ttransform: scaleY(2);\r\n\t}\r\n\r\n\r\n\t#f:hover #p {\r\n\t\ttransform: scaleY(2);\r\n\t}\r\n\r\n\t#f:hover #i {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\r\n\t#player #bar>span {\r\n\t\tdisplay: inline-block;\r\n\t\tflex: 1;\r\n\t\theight: 18px;\r\n\t\ttext-align: center;\r\n\t\tline-height: 14px;\r\n\t\tfont-size: 16px;\r\n\t\tfont-variant-caps: all-small-caps;\r\n\t}\r\n\r\n\r\n\t#player #bar i {\r\n\t\tdisplay: none;\r\n\t\tposition: absolute;\r\n\t\twidth: 8px;\r\n\t\theight: 8px;\r\n\t\tleft: -4px;\r\n\t\tmargin-top: -5px;\r\n\t\tbackground-color: #FF7A9E;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t#key {\r\n\t\twidth: 210px;\r\n\t\theight: 100%;\r\n\t\tline-height: 70px;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t#key>i {\r\n\t\tfloat: right;\r\n\t\tmargin-right: 20px;\r\n\t\tfont-size: 20px;\r\n\t\tcolor: #222222;\r\n\t}\r\n\r\n\t#key>i:nth-child(2) {\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t#key>i:nth-child(3) {\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t#key>i:nth-child(2):hover+i+div {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t#key>i:nth-child(3):hover+div {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\r\n\t#key>span {\r\n\t\tdisplay: inline-block;\r\n\t\tposition: relative;\r\n\t\twidth: 30px;\r\n\t\theight: 13px;\r\n\t\tmargin-left: 82px;\r\n\t\tmargin-top: 27px;\r\n\t\tborder: 1px #000000 solid;\r\n\t}\r\n\r\n\t#key>span span {\r\n\t\tposition: absolute;\r\n\t\ttop: -28px;\r\n\t\tleft: 3px;\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 12px !important;\r\n\t\ttransform: scale(0.9) !important;\r\n\t}\r\n\r\n\t#key>div {\r\n\t\tposition: absolute;\r\n\t\ttop: -70px;\r\n\t\tleft: 123px;\r\n\t\tdisplay: none;\r\n\t\twidth: 30px;\r\n\t\theight: 100px;\r\n\t}\r\n\r\n\t#key>div:hover {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\r\n\r\n\r\n\t#key #volume {\r\n\t\tposition: relative;\r\n\t\tz-index: 3;\r\n\t\twidth: 30px;\r\n\t\theight: 90px;\r\n\t\tbox-shadow: 0px 4px 7px 0px #cecece;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 3px;\r\n\t}\r\n\r\n\t#key #volume p {\r\n\t\tposition: absolute;\r\n\t\twidth: 3px;\r\n\t\theight: 80px;\r\n\t\tleft: 13px;\r\n\t\ttop: 5px;\r\n\t\tbackground-color: #dadada;\r\n\t}\r\n\r\n\t#key #volume i {\r\n\t\tposition: absolute;\r\n\t\twidth: 8px;\r\n\t\theight: 8px;\r\n\t\tleft: 10px;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground-color: #FF7A9E;\r\n\t}\r\n\r\n\r\n\t.lyric {\r\n\t\tz-index: 999;\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbackground-color: #ffffff;\r\n\t\tbackground-repeat: no-repeat !important;\r\n\t\tbackground-size: 100% 100% !important;\r\n\r\n\t}\r\n\r\n\t.lyric .box {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbox-shadow: 20px 20px 50px rgba(0, 0, 0, 0.1);\r\n\t\tbackground: rgba(255, 255, 255 0.5);\r\n\t\tbackdrop-filter: blur(30px);\r\n\t}\r\n\r\n\t.lyric .box>i {\r\n\t\tmargin: 20px 0 0 10px;\r\n\t\tfont-size: 20px;\r\n\t\tcolor: #313131;\r\n\t}\r\n\r\n\t.ov {\r\n\t\tflex: auto;\r\n\t\theight: 0;\r\n\t\toverflow-y: auto;\r\n\t\toverflow-x: hidden;\r\n\t}\r\n\r\n\t.ov::-webkit-scrollbar {\r\n\t\t/* \twidth: 6px;\r\n\t\tborder-radius: 4px;\r\n\t\tbackground-color: #ffffff; */\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.ov::-webkit-scrollbar-thumb {\r\n\t\tborder-radius: 4px;\r\n\t\theight: 2px;\r\n\t\tbackground-color: #e1e1e1;\r\n\t}\r\n\r\n\r\n\r\n\t.lyric #main {\r\n\t\tz-index: 2;\r\n\t\twidth: 855px;\r\n\t\theight: auto;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n\t.lyric #main #book {\r\n\t\twidth: 100%;\r\n\t\theight: 460px;\r\n\t\tdisplay: flex;\r\n\t\tmargin-bottom: 20px;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.lyric #main #book #img {\r\n\t\twidth: 275px;\r\n\t\theight: 460px;\r\n\t\tjustify-content: center;\r\n\t\tpadding-left: 75px;\r\n\t\tdisplay: flex;\r\n\t\tcolor: #ffffff;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.lyric #main #book #text {\r\n\t\tmargin-top: 60px;\r\n\t\twidth: 505px;\r\n\t\theight: 80%;\r\n\t\tcolor: #fff;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.lyric #main #book #img #outer {\r\n\t\twidth: 200px;\r\n\t\theight: 200px;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t.lyric #main #book #img #outer img {\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\r\n\r\n\t.lyric #main #book #img #name {\r\n\t\twidth: 200px;\r\n\t\theight: 40px;\r\n\t\tfont-size: 12px;\r\n\t\tline-height: 26px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.lyric #main #book #img #name>span {\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\r\n\t.lyric #main #book #img #table {\r\n\t\tmargin-top: 10px;\r\n\t\twidth: 200px;\r\n\t\theight: 24px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.lyric #main #book #img #table i {\r\n\t\tfont-size: 18px;\r\n\t}\r\n\r\n\r\n\t.lyric #main #book #img #jdt {\r\n\t\twidth: 200px;\r\n\t\theight: 20px;\r\n\t\tmargin-top: 10px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.lyric #main #book #img #jdt #h {\r\n\t\twidth: 130px;\r\n\t\theight: 100%;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.lyric #main #book #img #jdt #h #p1 {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 1.5px;\r\n\t\ttop: 9px;\r\n\t\tbackground-color: #F5F5F5;\r\n\t}\r\n\r\n\t.lyric #main #book #img #jdt #h #p2 {\r\n\t\tposition: absolute;\r\n\t\twidth: 0px;\r\n\t\theight: 1.5px;\r\n\t\ttop: 9px;\r\n\t\tbackground-color: #FF7A9E;\r\n\t}\r\n\r\n\t.lyric #main #book #img #jdt #h #i1 {\r\n\t\tposition: absolute;\r\n\t\twidth: 6px;\r\n\t\tdisplay: none;\r\n\t\theight: 6px;\r\n\t\ttop: 6.5px;\r\n\t\tbackground-color: #FF7A9E;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\r\n\t#jdt #h:hover #p1 {\r\n\t\ttransform: scaleY(2);\r\n\t}\r\n\r\n\t#jdt #h:hover #p2 {\r\n\t\ttransform: scaleY(2);\r\n\t}\r\n\r\n\t#jdt #h:hover #i1 {\r\n\t\tdisplay: block !important;\r\n\t}\r\n\r\n\r\n\t.lyric #main #book #img #jdt>span {\r\n\t\tdisplay: inline-block;\r\n\t\tflex: 1;\r\n\t\theight: 18px;\r\n\t\tline-height: 14px;\r\n\t\ttext-align: left;\r\n\t\tfont-size: 16px;\r\n\t\tfont-variant-caps: all-small-caps;\r\n\t}\r\n\r\n\t.lyric #main #book #img #jdt>span:nth-child(3) {\r\n\t\ttext-align: right;\r\n\t}\r\n\r\n\timg {\r\n\t\ttop: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\r\n\t.lyric #main #book #text #lyric {\r\n\t\tposition: relative;\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\r\n\r\n\t.lyric #main #book #text #lyric #node {\r\n\t\tposition: absolute;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\twidth: 490px;\r\n\t\theight: 25px;\r\n\t\tmargin-top: 174px;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\t.lyric #main #book #text #lyric #node>span {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.lyric #main #book #text #lyric #node #x {\r\n\t\tdisplay: block;\r\n\t\twidth: 70px;\r\n\t\theight: 1px;\r\n\t\ttransform: scale(0.9);\r\n\t\tbackground-color: #d1d1d1;\r\n\t}\r\n\r\n\r\n\t.lyric #main #book #text #lyric #content {\r\n\t\tpointer-events: none;\r\n\t\twidth: 100%;\r\n\t\theight: auto;\r\n\t}\r\n\r\n\t.lyric #main #book #text #lyric #content ul {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\r\n\t.lyric #main #book #text #lyric #content ul li {\r\n\t\twidth: 100%;\r\n\t\theight: 34px;\r\n\t\tfont-size: 14px;\r\n\t\tline-height: 34px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.time {\r\n\t\tcolor: #FF7A9E;\r\n\t\tfont-size: 15px;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t/* .musicxz{\r\n\t\tanimation: rotate 6s linear infinite;\r\n\t}\r\n\t */\r\n\t/* @keyframes rotate {\r\n\t\t0% {\r\n\t\t\ttransform: rotateZ(0deg)\r\n\t\t}\r\n\t\t\r\n\t\t100% {\r\n\t\t\ttransform: rotateZ(360deg);\r\n\t\t}\r\n\t}\r\n\t\r\n\t.pause{\r\n\t\tanimation-play-state: paused;\r\n\t} */\r\n</style>\n"]}]}
{"remainingRequest":"D:\\Less\\小罗音乐2.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Less\\小罗音乐2.0\\src\\pages\\login\\denglu\\QRcode.vue?vue&type=style&index=0&id=f2a6f02a&scoped=true&lang=css&","dependencies":[{"path":"D:\\Less\\小罗音乐2.0\\src\\pages\\login\\denglu\\QRcode.vue","mtime":1680335291468},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\css-loader\\index.js","mtime":1662623265830},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1662623271235},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\postcss-loader\\src\\index.js","mtime":1662623271799},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662623268261},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1662623271232}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.QRcode {\n\twidth: 100%;\n\theight: 100%;\n\tposition: relative;\n}\n\n.QRcode #img {\n\twidth: 180px;\n\theight: 180px;\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n}\n\n.QRcode #shade{\n\twidth: 180px;\n\theight: 180px;\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\ttext-align: center;\n\tline-height: 180px;\n\tfont-size:18px;\n\tbackground-color: rgba(208, 208, 208, 0.9);\n}\n\n.QRcode>i {\n\tdisplay: inline-block;\n\tfont-size: 16px;\n\tfont-variant-caps: all-small-caps;\n\tfont-weight: 500;\n\tmargin-left: 15px;\n\tcursor: pointer;\n}\n",{"version":3,"sources":["QRcode.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"QRcode.vue","sourceRoot":"src/pages/login/denglu","sourcesContent":["<template>\r\n\t<div class=\"QRcode\">\r\n\t\t<i class=\"iconfont icon-fanhui1\" @click=\"retLogin\">返回登录</i>\r\n\t\t<div id=\"img\">\r\n\t\t\t<img :src=\"imgpar\" alt=\"\">\r\n\t\t</div>\r\n\t\t<div id=\"shade\" :style=\"shadeSty\">\r\n\t\t\t请在手机上确认\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetLoginQrKey,\r\n\t\tgetLoginQrCreate,\r\n\t\tgetLoginQrCheck\r\n\t} from '../../../plugins/register.js'\r\n\timport baseimg from '../../../general/regular.js'\r\n\timport {saveData} from '../../../general/regular.js'\r\n\texport default {\r\n\t\tname: 'QRcode',\r\n\t\tprops: {},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\timgpar: null, //二维码图片\r\n\t\t\t\timgkey: null,\r\n\t\t\t\ttake_time: null, //轮询定时器\r\n\t\t\t\tbacklog:false,\t//待确认\r\n\t\t\t\ttimestamp:new Date().getTime(),\r\n\t\t\t\tshadeSty:{\r\n\t\t\t\t\tdisplay:'none'\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tretLogin() {\r\n\t\t\t\tthis.$emit('onerweima')\r\n\t\t\t\tclearInterval(this.take_time)\r\n\t\t\t},\r\n\t\t\ttake() {\r\n\t\t\t\tgetLoginQrKey({\r\n\t\t\t\t\ttimestamp:this.timestamp\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tthis.imgkey = res.data.data.unikey\r\n\t\t\t\t\tgetLoginQrCreate({\r\n\t\t\t\t\t\tkey: res.data.data.unikey,\r\n\t\t\t\t\t\tqrimg: true\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tthis.imgpar = res.data.data.qrimg\r\n\t\t\t\t\t\tthis.take_time = setInterval(i => {\r\n\t\t\t\t\t\t\tgetLoginQrCheck({\r\n\t\t\t\t\t\t\t\tkey: this.imgkey,\r\n\t\t\t\t\t\t\t\ttimestamp:new Date().getTime()\r\n\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\tif(res.data.code==800){\r\n\t\t\t\t\t\t\t\t\t//过期\r\n\t\t\t\t\t\t\t\t\tthis.shadeSty={\r\n\t\t\t\t\t\t\t\t\t\tdispaly:'none'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthis.take()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(res.data.code==801){\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(res.data.code==802){\r\n\t\t\t\t\t\t\t\t\t//待确认\r\n\t\t\t\t\t\t\t\t\tthis.shadeSty={\r\n\t\t\t\t\t\t\t\t\t\tdispaly:'block'\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(res.data.code==803){\r\n\t\t\t\t\t\t\t\t\t//登录成功\r\n\t\t\t\t\t\t\t\t\tthis.$store.dispatch('login',false)\r\n\t\t\t\t\t\t\t\t\tsaveData('cookie',res.data.cookie)\r\n\t\t\t\t\t\t\t\t\tclearInterval(this.take_time)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}, 2000)\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.take()\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.QRcode {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.QRcode #img {\r\n\t\twidth: 180px;\r\n\t\theight: 180px;\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t}\r\n\r\n\t.QRcode #shade{\r\n\t\twidth: 180px;\r\n\t\theight: 180px;\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\ttext-align: center;\r\n\t\tline-height: 180px;\r\n\t\tfont-size:18px;\r\n\t\tbackground-color: rgba(208, 208, 208, 0.9);\r\n\t}\r\n\r\n\t.QRcode>i {\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 16px;\r\n\t\tfont-variant-caps: all-small-caps;\r\n\t\tfont-weight: 500;\r\n\t\tmargin-left: 15px;\r\n\t\tcursor: pointer;\r\n\t}\r\n</style>\n"]}]}
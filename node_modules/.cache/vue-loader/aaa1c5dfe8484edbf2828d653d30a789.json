{"remainingRequest":"D:\\Less\\小罗音乐2.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Less\\小罗音乐2.0\\src\\pages\\frame\\footer.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Less\\小罗音乐2.0\\src\\pages\\frame\\footer.vue","mtime":1680331661711},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662623268261},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\babel-loader\\lib\\index.js","mtime":1662623271902},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662623268261},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1662623271232}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport slider from '../../components/slider/slider.vue'\nimport {\n\treadData,\n\tsaveData,\n\tgetlyric,\n\tgetmiao\n} from '../../general/regular.js'\nimport {\n\tgetSongDetail,\n\tgetSongUrl,\n\tgetLyric\n} from '../../plugins/music.js'\nimport drawer from '../../pages/details/lyric/drawer.vue'\n\nfunction realFormatSecond(second) {\n\tvar secondType = typeof second;\n\n\tif (secondType === 'number' || secondType === 'string') {\n\t\tsecond = parseInt(second);\n\n\t\tvar hours = Math.floor(second / 3600);\n\t\tsecond = second - hours * 3600;\n\t\tvar mimute = Math.floor(second / 60);\n\t\tsecond = second - mimute * 60;\n\n\t\treturn ('0' + mimute).slice(-2) + ':' + ('0' + second).slice(-2)\n\t} else {\n\t\treturn '00:00'\n\t}\n}\n\nexport default {\n\tname: 'footer-box',\n\tcomponents: {\n\t\t'slider': slider,\n\t\t'drawer': drawer\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tmusicid: '', //音乐id\n\t\t\tofno: false, //播放按钮的状态\n\t\t\tcanplay: false, //是否可以播放\n\t\t\tplaying: false, //歌曲是否播放\n\t\t\tcycle: 1, //循环播放状态\n\t\t\thint: false,\n\t\t\tSongDetail: {\n\t\t\t\turl: '',\n\t\t\t\timg: '',\n\t\t\t\tname: '',\n\t\t\t\tnickname: [],\n\t\t\t\ttime: '',\n\t\t\t\tlyric: ''\n\t\t\t},\n\t\t\tblock: {\n\t\t\t\tdisplay: 'block'\n\t\t\t},\n\t\t\tdrawer: false,\n\t\t\taudio: {\n\t\t\t\t// 播放状态\n\t\t\t\tplaying: false,\n\t\t\t\t// 静音状态\n\t\t\t\tmuted: false,\n\t\t\t\t// 音频当前播放时长\n\t\t\t\tcurrentTime: 0,\n\t\t\t\t// 音量\n\t\t\t\tvolume: 0.3,\n\t\t\t\t// 音频最大播放时长\n\t\t\t\tmaxTime: 0\n\t\t\t},\n\t\t\tcacheCurrent:0,\n\t\t\tcacheVoice:1\n\t\t}\n\t},\n\tmethods: {\n\t\tiscycle(id) {\n\t\t\tthis.cycle = id\n\t\t},\n\t\tztbf() {\n\t\t\tthis.ofno = !this.ofno\n\t\t},\n\t\tdisplay() {\n\t\t\tthis.block.display = 'block'\n\t\t},\n\t\tnone() {\n\t\t\tthis.block.display = 'none'\n\t\t},\n\t\tgoup() {\n\t\t\tthis.drawer = !this.drawer\n\t\t},\n\t\tonclick(value) {\n\t\t\tthis.drawer = value\n\t\t},\n\t\t/*audio*/\n\t\t//播放完后触发事件\n\t\tended() {\n\n\t\t},\n\t\t//可以播放了\n\t\toncanplay() {\n\t\t\tif (this.audio.playing) {\n\t\t\t\tthis.$refs.audio.play()\n\t\t\t}\n\t\t},\n\t\t//timeupdate事件大概每秒一次，用来更新音频流的当前播放时间\n\t\tontimeupdate() {\n\t\t\tthis.audio.currentTime = this.$refs.audio.currentTime\n\t\t},\n\t\tonloadedmetadata() {\n\t\t\tthis.audio.maxTime = parseInt(this.$refs.audio.duration)\n\t\t},\n\n\t\t/*progress*/\n\t\t//拖动进度条\n\t\tprogressChange(value){\n\t\t\tthis.$refs.audio.currentTime = value >= 0 ? value : this.cacheCurrent;\n\t\t\tthis.audio.currentTime = value >= 0 ? value : this.cacheCurrent\t\n\t\t},\n\t\tmouseupChangeTime(){\n\t\t\tthis.progressChange(this.cacheCurrent)\n\t\t},\n\t\trealFormatSecond(second) {\n\t\t        this.cacheCurrent = second;\n\t\t        return realFormatSecond(second);\n\t\t},\n\t\t\n\t\t/*volume*/\n\t\tvolumeChange(){\n\t\t\tthis.cancelMute(false);\n\t\t\t  if (this.audio.volume === 0) {\n\t\t\t    this.mute(false)\n\t\t\t  }\n\t\t\t  this.$refs.audio.volume = this.audio.volume;\n\t\t},\n\t\tmute(event) {\n\t\t  // 正常点击静音和取消静音的时候把当前音量存下来，拖动触发的静音方法只需要改变状态\n\t\t  event && (this.cacheVoice = this.audio.volume);\n\t\t  this.audio.volume = 0;\n\t\t  this.audio.muted = true;\n\t\t  this.$refs.audio.muted = true;\n\t\t},\n\t\t// 取消静音\n\t\tcancelMute(event) {\n\t\t  event && (this.audio.volume = this.cacheVoice);\n\t\t  this.audio.muted = false;\n\t\t  this.$refs.audio.muted = false;\n\t\t},\n\t\t\n\t},\n\tfilters: {\n\t      // 将整数转化成时分秒\n\t      formatSecond(second = 0) {\n\t        return realFormatSecond(second)\n\t      }\n\t },\n\tcomputed: {\n\t\tismusicid() {\n\t\t\treturn this.$store.state.musicid\n\t\t},\n\t\tisofno() {\n\t\t\treturn this.ofno\n\t\t}\n\t},\n\twatch: {\n\t\tismusicid: {\n\t\t\thandler(value) {\n\t\t\t\tthis.musicid = value\n\t\t\t\tgetSongUrl({\n\t\t\t\t\tid: value,\n\t\t\t\t\tlevel: 'higher'\n\t\t\t\t}).then(res => {\n\t\t\t\t\tthis.SongDetail.url = res.data.data[0].url\n\t\t\t\t\tthis.SongDetail.time = res.data.data[0].time\n\t\t\t\t\tthis.sliderParams.time = res.data.data[0].time\n\t\t\t\t})\n\n\t\t\t\tgetSongDetail({\n\t\t\t\t\tids: value\n\t\t\t\t}).then(res => {\n\t\t\t\t\tthis.SongDetail.img = res.data.songs[0].al.picUrl\n\t\t\t\t\tthis.SongDetail.name = res.data.songs[0].name\n\t\t\t\t\tthis.SongDetail.nickname = res.data.songs[0].ar\n\t\t\t\t})\n\n\t\t\t\tgetLyric({\n\t\t\t\t\tid: value\n\t\t\t\t}).then(res => {\n\t\t\t\t\tthis.SongDetail.lyric = getlyric(res.data.lrc.lyric)\n\t\t\t\t})\n\t\t\t\tthis.ofno = true\n\t\t\t}\n\t\t},\n\t\tisofno: {\n\t\t\thandler(value) {\n\t\t\t\tif (value) {\n\t\t\t\t\tthis.$refs.audio.play()\n\t\t\t\t\tthis.audio.playing = true\n\t\t\t\t} else {\n\t\t\t\t\tthis.$refs.audio.pause()\n\t\t\t\t\tthis.audio.playing = false\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\tlet id=null\n\t\tif(localStorage.getItem(\"RecentlyPlayed\")){\n\t\t\tid=JSON.parse(localStorage.getItem(\"RecentlyPlayed\"))[0]\n\t\t}else{\n\t\t\tid=this.$store.state.musicid\n\t\t}\n\t\tthis.musicid = id\n\t\tgetSongUrl({\n\t\t\tid: id,\n\t\t\tlevel: 'higher'\n\t\t}).then(res => {\n\t\t\tthis.SongDetail.url = res.data.data[0].url\n\t\t\tthis.SongDetail.time = res.data.data[0].time\n\t\t})\n\n\t\tgetSongDetail({\n\t\t\tids: id\n\t\t}).then(res => {\n\t\t\tthis.SongDetail.img = res.data.songs[0].al.picUrl\n\t\t\tthis.SongDetail.name = res.data.songs[0].name\n\t\t\tthis.SongDetail.nickname = res.data.songs[0].ar\n\t\t})\n\n\t\tgetLyric({\n\t\t\tid: id\n\t\t}).then(res => {\n\t\t\tthis.SongDetail.lyric = getlyric(res.data.lrc.lyric)\n\t\t})\n\t}\n\n}\n",{"version":3,"sources":["footer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"footer.vue","sourceRoot":"src/pages/frame","sourcesContent":["<template>\r\n\t<div class=\"footer-box\">\r\n\t\t<div class=\"song\">\r\n\t\t\t<div id=\"img\" @mouseover=\"display\">\r\n\t\t\t\t<img :src=\"SongDetail.img\" alt=\"\">\r\n\t\t\t</div>\r\n\t\t\t<div id=\"yy\" :style=\"block\" @mouseout=\"none\" @click=\"goup\">\r\n\t\t\t\t<i class=\"iconfont icon-xiangshangjiantou\" style=\"pointer-events: none;\" v-show=\"!drawer\"></i>\r\n\t\t\t\t<i class=\"iconfont icon-xiangxiajiantou\" style=\"pointer-events: none;\" v-show=\"drawer\"></i>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div id=\"name\">\r\n\t\t\t\t<div id=\"songname\">\r\n\t\t\t\t\t<div id=\"text\">\r\n\t\t\t\t\t\t{{SongDetail.name}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<i class=\"iconfont icon-xihuan\"></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div id=\"nickname\">\r\n\t\t\t\t\t<span v-for=\"(item,index) in SongDetail.nickname\">\r\n\t\t\t\t\t\t{{index==0?item.name:'/'+item.name}}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"Drawer\">\r\n\t\t\t\t<drawer :sync='drawer' :play='ofno' @onclick=\"onclick\" :musicid='musicid' :params='SongDetail' :playtime='audio.currentTime'>\r\n\t\t\t\t</drawer>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"player\">\r\n\t\t\t<div id=\"console\">\r\n\t\t\t\t<audio ref=\"audio\" @ended=\"ended\" :src=\"SongDetail.url\" @timeupdate=\"ontimeupdate\"\r\n\t\t\t\t\t@loadedmetadata=\"onloadedmetadata\" @canplay='oncanplay'>\r\n\r\n\t\t\t\t</audio>\r\n\t\t\t\t<i v-show=\"cycle==1\" @click=\"iscycle(2)\" class=\"iconfont icon-24gl-repeat2\"></i>\r\n\t\t\t\t<i v-show=\"cycle==2\" @click=\"iscycle(3)\" class=\"iconfont icon-danquxunhuan\"></i>\r\n\t\t\t\t<i v-show=\"cycle==3\" @click=\"iscycle(1)\" class=\"iconfont icon-24gl-repeatInfinite2\"></i>\r\n\t\t\t\t<i class=\"iconfont icon-shangyishou\"></i>\r\n\t\t\t\t<p id=\"p\" @click=\"ztbf\">\r\n\t\t\t\t\t<span v-show=\"ofno==true\" class=\"iconfont icon-zanting3\" style=\"font-size: 12px;\"></span>\r\n\t\t\t\t\t<span v-show=\"ofno==false\" class=\"iconfont icon-24gf-play\" style=\"font-size: 12px;\"></span>\r\n\t\t\t\t</p>\r\n\t\t\t\t<i class=\"iconfont icon-xiayishou\"></i>\r\n\t\t\t\t<i>词</i>\r\n\t\t\t</div>\r\n\t\t\t<div id=\"bar\">\r\n\t\t\t\t<span>{{audio.currentTime|formatSecond}}</span>\r\n\t\t\t\t<div class=\"slider\">\r\n\t\t\t\t\t<el-slider \r\n\t\t\t\t\t\t@change=\"progressChange\" \r\n\t\t\t\t\t\tv-model=\"audio.currentTime\" \r\n\t\t\t\t\t\t:max=\"audio.maxTime\"\r\n\t\t\t\t\t\t:format-tooltip=\"realFormatSecond\"\r\n\t\t\t\t\t\t@mouseup.native=\"mouseupChangeTime\"\r\n\t\t\t\t\t\t:show-tooltip=\"false\"></el-slider>\r\n\t\t\t\t</div>\r\n\t\t\t\t<span>{{audio.maxTime|formatSecond}}</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"key\">\r\n\t\t\t<i class=\"iconfont icon-bofangliebiao\" style=\"font-size: 22px; font-weight: 500;\"></i>\r\n\t\t\t<i id=\"volume\" class=\"iconfont icon-weibiaoti-2\" v-if=\"!audio.muted\"\r\n\t\t\t\tstyle=\"font-size: 22px; font-weight: 600;\" @click=\"mute\"></i>\r\n\t\t\t<i id=\"volume\" class=\"iconfont icon-weibiaoti-\"\tv-if=\"audio.muted\"\r\n\t\t\t\tstyle=\"font-size: 22px; font-weight: 600;\" @click=\"cancelMute\"></i>\r\n\t\t\t<div id=\"control\">\r\n\t\t\t\t<el-slider \r\n\t\t\t\tv-model=\"audio.volume\" \r\n\t\t\t\tvertical \r\n\t\t\t\theight=\"70px\" \r\n\t\t\t\t:show-tooltip='hint' \r\n\t\t\t\t@input=\"volumeChange()\"\r\n\t\t\t\t:step='0.01'\r\n\t\t\t\t:max=\"1\">\r\n\t\t\t\t</el-slider>\r\n\t\t\t\t<span></span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport slider from '../../components/slider/slider.vue'\r\n\timport {\r\n\t\treadData,\r\n\t\tsaveData,\r\n\t\tgetlyric,\r\n\t\tgetmiao\r\n\t} from '../../general/regular.js'\r\n\timport {\r\n\t\tgetSongDetail,\r\n\t\tgetSongUrl,\r\n\t\tgetLyric\r\n\t} from '../../plugins/music.js'\r\n\timport drawer from '../../pages/details/lyric/drawer.vue'\r\n\r\n\tfunction realFormatSecond(second) {\r\n\t\tvar secondType = typeof second;\r\n\r\n\t\tif (secondType === 'number' || secondType === 'string') {\r\n\t\t\tsecond = parseInt(second);\r\n\r\n\t\t\tvar hours = Math.floor(second / 3600);\r\n\t\t\tsecond = second - hours * 3600;\r\n\t\t\tvar mimute = Math.floor(second / 60);\r\n\t\t\tsecond = second - mimute * 60;\r\n\r\n\t\t\treturn ('0' + mimute).slice(-2) + ':' + ('0' + second).slice(-2)\r\n\t\t} else {\r\n\t\t\treturn '00:00'\r\n\t\t}\r\n\t}\r\n\r\n\texport default {\r\n\t\tname: 'footer-box',\r\n\t\tcomponents: {\r\n\t\t\t'slider': slider,\r\n\t\t\t'drawer': drawer\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tmusicid: '', //音乐id\r\n\t\t\t\tofno: false, //播放按钮的状态\r\n\t\t\t\tcanplay: false, //是否可以播放\r\n\t\t\t\tplaying: false, //歌曲是否播放\r\n\t\t\t\tcycle: 1, //循环播放状态\r\n\t\t\t\thint: false,\r\n\t\t\t\tSongDetail: {\r\n\t\t\t\t\turl: '',\r\n\t\t\t\t\timg: '',\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\tnickname: [],\r\n\t\t\t\t\ttime: '',\r\n\t\t\t\t\tlyric: ''\r\n\t\t\t\t},\r\n\t\t\t\tblock: {\r\n\t\t\t\t\tdisplay: 'block'\r\n\t\t\t\t},\r\n\t\t\t\tdrawer: false,\r\n\t\t\t\taudio: {\r\n\t\t\t\t\t// 播放状态\r\n\t\t\t\t\tplaying: false,\r\n\t\t\t\t\t// 静音状态\r\n\t\t\t\t\tmuted: false,\r\n\t\t\t\t\t// 音频当前播放时长\r\n\t\t\t\t\tcurrentTime: 0,\r\n\t\t\t\t\t// 音量\r\n\t\t\t\t\tvolume: 0.3,\r\n\t\t\t\t\t// 音频最大播放时长\r\n\t\t\t\t\tmaxTime: 0\r\n\t\t\t\t},\r\n\t\t\t\tcacheCurrent:0,\r\n\t\t\t\tcacheVoice:1\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tiscycle(id) {\r\n\t\t\t\tthis.cycle = id\r\n\t\t\t},\r\n\t\t\tztbf() {\r\n\t\t\t\tthis.ofno = !this.ofno\r\n\t\t\t},\r\n\t\t\tdisplay() {\r\n\t\t\t\tthis.block.display = 'block'\r\n\t\t\t},\r\n\t\t\tnone() {\r\n\t\t\t\tthis.block.display = 'none'\r\n\t\t\t},\r\n\t\t\tgoup() {\r\n\t\t\t\tthis.drawer = !this.drawer\r\n\t\t\t},\r\n\t\t\tonclick(value) {\r\n\t\t\t\tthis.drawer = value\r\n\t\t\t},\r\n\t\t\t/*audio*/\r\n\t\t\t//播放完后触发事件\r\n\t\t\tended() {\r\n\r\n\t\t\t},\r\n\t\t\t//可以播放了\r\n\t\t\toncanplay() {\r\n\t\t\t\tif (this.audio.playing) {\r\n\t\t\t\t\tthis.$refs.audio.play()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//timeupdate事件大概每秒一次，用来更新音频流的当前播放时间\r\n\t\t\tontimeupdate() {\r\n\t\t\t\tthis.audio.currentTime = this.$refs.audio.currentTime\r\n\t\t\t},\r\n\t\t\tonloadedmetadata() {\r\n\t\t\t\tthis.audio.maxTime = parseInt(this.$refs.audio.duration)\r\n\t\t\t},\r\n\r\n\t\t\t/*progress*/\r\n\t\t\t//拖动进度条\r\n\t\t\tprogressChange(value){\r\n\t\t\t\tthis.$refs.audio.currentTime = value >= 0 ? value : this.cacheCurrent;\r\n\t\t\t\tthis.audio.currentTime = value >= 0 ? value : this.cacheCurrent\t\r\n\t\t\t},\r\n\t\t\tmouseupChangeTime(){\r\n\t\t\t\tthis.progressChange(this.cacheCurrent)\r\n\t\t\t},\r\n\t\t\trealFormatSecond(second) {\r\n\t\t\t        this.cacheCurrent = second;\r\n\t\t\t        return realFormatSecond(second);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t/*volume*/\r\n\t\t\tvolumeChange(){\r\n\t\t\t\tthis.cancelMute(false);\r\n\t\t\t\t  if (this.audio.volume === 0) {\r\n\t\t\t\t    this.mute(false)\r\n\t\t\t\t  }\r\n\t\t\t\t  this.$refs.audio.volume = this.audio.volume;\r\n\t\t\t},\r\n\t\t\tmute(event) {\r\n\t\t\t  // 正常点击静音和取消静音的时候把当前音量存下来，拖动触发的静音方法只需要改变状态\r\n\t\t\t  event && (this.cacheVoice = this.audio.volume);\r\n\t\t\t  this.audio.volume = 0;\r\n\t\t\t  this.audio.muted = true;\r\n\t\t\t  this.$refs.audio.muted = true;\r\n\t\t\t},\r\n\t\t\t// 取消静音\r\n\t\t\tcancelMute(event) {\r\n\t\t\t  event && (this.audio.volume = this.cacheVoice);\r\n\t\t\t  this.audio.muted = false;\r\n\t\t\t  this.$refs.audio.muted = false;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t},\r\n\t\tfilters: {\r\n\t\t      // 将整数转化成时分秒\r\n\t\t      formatSecond(second = 0) {\r\n\t\t        return realFormatSecond(second)\r\n\t\t      }\r\n\t\t },\r\n\t\tcomputed: {\r\n\t\t\tismusicid() {\r\n\t\t\t\treturn this.$store.state.musicid\r\n\t\t\t},\r\n\t\t\tisofno() {\r\n\t\t\t\treturn this.ofno\r\n\t\t\t}\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tismusicid: {\r\n\t\t\t\thandler(value) {\r\n\t\t\t\t\tthis.musicid = value\r\n\t\t\t\t\tgetSongUrl({\r\n\t\t\t\t\t\tid: value,\r\n\t\t\t\t\t\tlevel: 'higher'\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tthis.SongDetail.url = res.data.data[0].url\r\n\t\t\t\t\t\tthis.SongDetail.time = res.data.data[0].time\r\n\t\t\t\t\t\tthis.sliderParams.time = res.data.data[0].time\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tgetSongDetail({\r\n\t\t\t\t\t\tids: value\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tthis.SongDetail.img = res.data.songs[0].al.picUrl\r\n\t\t\t\t\t\tthis.SongDetail.name = res.data.songs[0].name\r\n\t\t\t\t\t\tthis.SongDetail.nickname = res.data.songs[0].ar\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tgetLyric({\r\n\t\t\t\t\t\tid: value\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tthis.SongDetail.lyric = getlyric(res.data.lrc.lyric)\r\n\t\t\t\t\t})\r\n\t\t\t\t\tthis.ofno = true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tisofno: {\r\n\t\t\t\thandler(value) {\r\n\t\t\t\t\tif (value) {\r\n\t\t\t\t\t\tthis.$refs.audio.play()\r\n\t\t\t\t\t\tthis.audio.playing = true\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$refs.audio.pause()\r\n\t\t\t\t\t\tthis.audio.playing = false\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tlet id=null\r\n\t\t\tif(localStorage.getItem(\"RecentlyPlayed\")){\r\n\t\t\t\tid=JSON.parse(localStorage.getItem(\"RecentlyPlayed\"))[0]\r\n\t\t\t}else{\r\n\t\t\t\tid=this.$store.state.musicid\r\n\t\t\t}\r\n\t\t\tthis.musicid = id\r\n\t\t\tgetSongUrl({\r\n\t\t\t\tid: id,\r\n\t\t\t\tlevel: 'higher'\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.SongDetail.url = res.data.data[0].url\r\n\t\t\t\tthis.SongDetail.time = res.data.data[0].time\r\n\t\t\t})\r\n\r\n\t\t\tgetSongDetail({\r\n\t\t\t\tids: id\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.SongDetail.img = res.data.songs[0].al.picUrl\r\n\t\t\t\tthis.SongDetail.name = res.data.songs[0].name\r\n\t\t\t\tthis.SongDetail.nickname = res.data.songs[0].ar\r\n\t\t\t})\r\n\r\n\t\t\tgetLyric({\r\n\t\t\t\tid: id\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.SongDetail.lyric = getlyric(res.data.lrc.lyric)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.footer-box {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #ffffff;\r\n\t\tborder-top: 1px #e1e1e1 solid;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\timg {\r\n\t\ttop: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t.song {\r\n\t\twidth: 210px;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.song #img {\r\n\t\twidth: 43px;\r\n\t\theight: 43px;\r\n\t\tmargin-left: 10px;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t.song #yy {\r\n\t\twidth: 43px;\r\n\t\theight: 43px;\r\n\t\ttext-align: center;\r\n\t\tline-height: 42px;\r\n\t\tborder-radius: 3px;\r\n\t\tmargin-left: -43px;\r\n\t\tcolor: #fff;\r\n\t\tbackground: rgba(0, 0, 0, 0.5);\r\n\t}\r\n\r\n\timg {\r\n\t\ttop: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t.song #name {\r\n\t\tflex: 1;\r\n\t\tmargin-left: 10px;\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 16px;\r\n\t\tfont-variant-caps: all-small-caps;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.song #name #songname {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.song #name #songname>i {\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 24px;\r\n\t\theight: 24px;\r\n\t\tmargin-top: -8px;\r\n\t\tmargin-left: 5px;\r\n\t}\r\n\r\n\t.song #name #songname #text {\r\n\t\tmax-width: 120px;\r\n\t\theight: 100%;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.song #name #nickname {\r\n\t\tflex: 1;\r\n\t\tmax-width: 120px;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t}\r\n\r\n\t.player {\r\n\t\twidth: 420px;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\r\n\t.player #console {\r\n\t\twidth: 195px;\r\n\t\theight: 32px;\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.player #console i {\r\n\t\tfont-size: 18px;\r\n\t\tcolor: #313131;\r\n\t}\r\n\r\n\t.player #button i:hover {\r\n\t\tcolor: #FF7A9E;\r\n\t}\r\n\r\n\t.player #console #p {\r\n\t\twidth: 32px;\r\n\t\theight: 32px;\r\n\t\tborder-radius: 50%;\r\n\t\tline-height: 32px;\r\n\t\ttext-align: center;\r\n\t\tbackground-color: #F5F5F5;\r\n\t}\r\n\r\n\t.player #bar {\r\n\t\twidth: 100%;\r\n\t\theight: 20px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.player #bar>span {\r\n\t\tdisplay: inline-block;\r\n\t\theight: 20px;\r\n\t\tfont-size: 16px;\r\n\t\tline-height: 17px;\r\n\t\tcolor: #737373;\r\n\t\tfont-variant-caps: all-small-caps;\r\n\t}\r\n\r\n\t.slider {\r\n\t\tflex: 1;\r\n\t\twidth: 100%;\r\n\t\theight: 20px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t}\r\n\r\n\t/deep/ .el-slider {\r\n\t\tcursor: default;\r\n\t\twidth: 97%;\r\n\t\theight: 20px;\r\n\t}\r\n\t\r\n\t\r\n\t/deep/.el-slider__runway {\r\n\t\twidth: 100%;\r\n\t\theight: 6px;\r\n\t\tcursor: default;\r\n\t\tmargin-top: 8px;\r\n\t}\r\n\r\n\t/deep/ .el-slider__bar {\r\n\t\tbackground-color: #FF7A9E;\r\n\t\tcursor: default;\r\n\t}\r\n\r\n\t/deep/.el-slider__button-wrapper {\r\n\t\tcursor: default;\r\n\t}\r\n\r\n\t/deep/.el-slider__button {\r\n\t\tmargin-top: -1px;\r\n\t\twidth: 8px;\r\n\t\theight: 8px;\r\n\t\tborder: none;\r\n\t\tbackground-color: #FF7A9E;\r\n\t\tcursor: default;\r\n\t}\r\n\r\n\r\n\t.key {\r\n\t\twidth: 210px;\r\n\t\theight: 100%;\r\n\t\tline-height: 70px;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.key>i {\r\n\t\tfloat: right;\r\n\t\tmargin-right: 25px;\r\n\t}\r\n\r\n\t.key #control {\r\n\t\tposition: relative;\r\n\t\ttop: -80px;\r\n\t\tleft: 110px;\r\n\t\tz-index: 3;\r\n\t\twidth: 30px;\r\n\t\theight: 90px;\r\n\t\tbox-shadow: 0px 2px 7px 0px #cecece;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 3px;\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.key #control>span {\r\n\t\tposition: absolute;\r\n\t\ttop: 70px;\r\n\t\tleft: 10px;\r\n\t\tdisplay: block;\r\n\t\twidth: 10px;\r\n\t\theight: 7px;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\tbackground-color: transparent;\r\n\t}\r\n\r\n\r\n\t#control>span::before {\r\n\t\tcontent: \"\";\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: #fff;\r\n\t\ttransform-origin: right top;\r\n\t\ttransform: rotate(45deg);\r\n\t}\r\n\r\n\t.key #control:active {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.key #control:hover {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t#volume:hover+#control {\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t/deep/ #control .el-slider__button {\r\n\t\twidth: 8px !important;\r\n\t\theight: 8px !important;\r\n\t\tmargin-top: -14px;\r\n\t\tbackground-color: #FF7A9E;\r\n\t\tborder: none;\r\n\t\tcursor: default;\r\n\t}\r\n\r\n\t/deep/ #control .el-slider__button-wrapper {\r\n\t\tz-index: 9;\r\n\t\tmargin-left: 12px;\r\n\t\tcursor: default;\r\n\t\twidth: 10px;\r\n\t\theight: 10px;\r\n\t}\r\n\r\n\t/deep/ #control .el-slider__runway {\r\n\t\twidth: 4px !important;\r\n\t\tmargin-left: 12px;\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\r\n\t/deep/ #control .el-slider__bar {\r\n\t\twidth: 4px !important;\r\n\t\tbackground-color: #FF7A9E;\r\n\t}\r\n</style>\n"]}]}
{"remainingRequest":"D:\\Less\\小罗音乐2.0\\node_modules\\babel-loader\\lib\\index.js!D:\\Less\\小罗音乐2.0\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Less\\小罗音乐2.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Less\\小罗音乐2.0\\src\\pages\\music\\rankinglist.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Less\\小罗音乐2.0\\src\\pages\\music\\rankinglist.vue","mtime":1676101524343},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662623268261},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\babel-loader\\lib\\index.js","mtime":1662623271902},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662623268261},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1662623271232}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.for-each\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getToplist, getPlaylistDetail, getSongDetail, getPlaylistTrackAll } from \"../../plugins/rankinglist.js\";\nimport { getwang } from \"../../general/regular.js\";\nimport list from \"../../components/songlist/list.vue\";\nimport songlist from \"../../components/basics/songlist.vue\";\nimport loading from \"../../components/loading/loading.vue\";\nexport default {\n  name: 'rankinglist',\n  components: {\n    'list': list,\n    'song-list': songlist,\n    'loading': loading\n  },\n  data: function data() {\n    return {\n      complete: false,\n      //数据未加载完成时\n      singleobj: {\n        type: 'ranking'\n      },\n      songlistobj: {\n        type: 'ranking',\n        count: true,\n        play: true,\n        location: 'centre'\n      },\n      official: {\n        id: [],\n        img: []\n      },\n      //官方榜\n      global: [],\n      //全球榜\n      offsongid: [],\n      //官方榜歌单id\t\t\t\t\n      musiclist: [[], [], [], []],\n      //官方榜音乐前5\n      time: [],\n      clickcolor: {\n        id: '',\n        index: ''\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    //获取所有榜单\n    this.bus.$emit('loading', true);\n    getToplist().then(function (res) {\n      _this.complete = true;\n\n      _this.bus.$emit('loading', false);\n\n      res.data.list.slice(0, 4).forEach(function (a) {\n        _this.official.id.push(a.id);\n\n        _this.official.img.push(a.coverImgUrl);\n      });\n      _this.global = res.data.list.splice(4, 37);\n\n      _this.global.forEach(function (a) {\n        _this.time.push(getwang(a.playCount));\n      });\n\n      _this.official.id.forEach(function (data) {\n        var a = JSON.stringify(data);\n        var b = JSON.parse(a);\n\n        _this.offsongid.push(b);\n      });\n    }); // 获取官方榜歌单里前5首歌曲详情\n\n    getPlaylistTrackAll({\n      id: 19723756,\n      limit: 5\n    }).then(function (res) {\n      _this.$set(_this.musiclist, 0, res.data.songs);\n    });\n    getPlaylistTrackAll({\n      id: 3779629,\n      limit: 5\n    }).then(function (res) {\n      _this.$set(_this.musiclist, 1, res.data.songs);\n    });\n    getPlaylistTrackAll({\n      id: 2884035,\n      limit: 5\n    }).then(function (res) {\n      _this.$set(_this.musiclist, 2, res.data.songs);\n    });\n    getPlaylistTrackAll({\n      id: 3778678,\n      limit: 5\n    }).then(function (res) {\n      _this.$set(_this.musiclist, 3, res.data.songs);\n    });\n  },\n  activated: function activated() {\n    this.bus.$emit('navig', '排行榜');\n  }\n};",{"version":3,"sources":["rankinglist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,SACA,UADA,EAEA,iBAFA,EAGA,aAHA,EAIA,mBAJA;AAMA,SACA,OADA;AAGA,OAAA,IAAA;AACA,OAAA,QAAA;AACA,OAAA,OAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,UAAA,EAAA;AACA,YAAA,IADA;AAEA,iBAAA,QAFA;AAGA,eAAA;AAHA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AACA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,IAAA,EAAA;AADA,OAFA;AAKA,MAAA,WAAA,EAAA;AACA,QAAA,IAAA,EAAA,SADA;AAEA,QAAA,KAAA,EAAA,IAFA;AAGA,QAAA,IAAA,EAAA,IAHA;AAIA,QAAA,QAAA,EAAA;AAJA,OALA;AAWA,MAAA,QAAA,EAAA;AACA,QAAA,EAAA,EAAA,EADA;AAEA,QAAA,GAAA,EAAA;AAFA,OAXA;AAcA;AACA,MAAA,MAAA,EAAA,EAfA;AAeA;AACA,MAAA,SAAA,EAAA,EAhBA;AAgBA;AACA,MAAA,SAAA,EAAA,CACA,EADA,EAEA,EAFA,EAGA,EAHA,EAIA,EAJA,CAjBA;AAsBA;AACA,MAAA,IAAA,EAAA,EAvBA;AAwBA,MAAA,UAAA,EAAA;AACA,QAAA,EAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA;AAFA;AAxBA,KAAA;AA6BA,GArCA;AAsCA,EAAA,OAtCA,qBAsCA;AAAA;;AACA;AACA,SAAA,GAAA,CAAA,KAAA,CAAA,SAAA,EAAA,IAAA;AACA,IAAA,UAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,QAAA,GAAA,IAAA;;AACA,MAAA,KAAA,CAAA,GAAA,CAAA,KAAA,CAAA,SAAA,EAAA,KAAA;;AACA,MAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,CAAA,EAAA,CAAA,EAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,EAAA,CAAA,IAAA,CAAA,CAAA,CAAA,EAAA;;AACA,QAAA,KAAA,CAAA,QAAA,CAAA,GAAA,CAAA,IAAA,CAAA,CAAA,CAAA,WAAA;AACA,OAHA;AAIA,MAAA,KAAA,CAAA,MAAA,GAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,MAAA,CAAA,CAAA,EAAA,EAAA,CAAA;;AACA,MAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA,SAAA,CAAA;AACA,OAFA;;AAGA,MAAA,KAAA,CAAA,QAAA,CAAA,EAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,CAAA,GAAA,IAAA,CAAA,SAAA,CAAA,IAAA,CAAA;AACA,YAAA,CAAA,GAAA,IAAA,CAAA,KAAA,CAAA,CAAA,CAAA;;AACA,QAAA,KAAA,CAAA,SAAA,CAAA,IAAA,CAAA,CAAA;AACA,OAJA;AAKA,KAhBA,EAHA,CAqBA;;AACA,IAAA,mBAAA,CAAA;AACA,MAAA,EAAA,EAAA,QADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA,CAAA,CAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,SAAA,EAAA,CAAA,EAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,KALA;AAOA,IAAA,mBAAA,CAAA;AACA,MAAA,EAAA,EAAA,OADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA,CAAA,CAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,SAAA,EAAA,CAAA,EAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,KALA;AAOA,IAAA,mBAAA,CAAA;AACA,MAAA,EAAA,EAAA,OADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA,CAAA,CAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,SAAA,EAAA,CAAA,EAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,KALA;AAOA,IAAA,mBAAA,CAAA;AACA,MAAA,EAAA,EAAA,OADA;AAEA,MAAA,KAAA,EAAA;AAFA,KAAA,CAAA,CAGA,IAHA,CAGA,UAAA,GAAA,EAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,SAAA,EAAA,CAAA,EAAA,GAAA,CAAA,IAAA,CAAA,KAAA;AACA,KALA;AAOA,GAxFA;AAyFA,EAAA,SAzFA,uBAyFA;AACA,SAAA,GAAA,CAAA,KAAA,CAAA,OAAA,EAAA,KAAA;AACA;AA3FA,CAAA","sourcesContent":["<template>\r\n\t<div class=\"rankinglist\">\r\n\t\t<loading></loading>\r\n\t\t<span v-if=\"complete\" id=\"notice\">官方榜</span>\r\n\t\t<div id=\"official\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li v-for=\"(item,index) in official.img\" :key=\"index\">\r\n\t\t\t\t\t<div class=\"img\">\r\n\t\t\t\t\t\t<img :src=\"item\" alt=\"\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"list\">\r\n\t\t\t\t\t\t<list :obj='singleobj' :params='musiclist[index]'></list>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<span v-if=\"complete\" id=\"notice\" style=\"margin-top: 20px;\">全球榜</span>\r\n\t\t<div id=\"global\">\r\n\t\t\t<ul>\r\n\t\t\t\t<li v-for=\"(item,index) in global\" :key=\"index\">\r\n\t\t\t\t\t<song-list :obj='songlistobj' :params='[\r\n\t\t\t\t\t\titem.coverImgUrl,item.playCount,item.name\r\n\t\t\t\t\t]'></song-list>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tgetToplist,\r\n\t\tgetPlaylistDetail,\r\n\t\tgetSongDetail,\r\n\t\tgetPlaylistTrackAll\r\n\t} from '../../plugins/rankinglist.js'\r\n\timport {\r\n\t\tgetwang\r\n\t} from '../../general/regular.js'\r\n\timport list from '../../components/songlist/list.vue'\r\n\timport songlist from '../../components/basics/songlist.vue'\r\n\timport loading from '../../components/loading/loading.vue'\r\n\texport default {\r\n\t\tname: 'rankinglist',\r\n\t\tcomponents: {\r\n\t\t\t'list': list,\r\n\t\t\t'song-list': songlist,\r\n\t\t\t'loading': loading\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcomplete:false,\t\t//数据未加载完成时\r\n\t\t\t\tsingleobj: {\r\n\t\t\t\t\ttype: 'ranking'\r\n\t\t\t\t},\r\n\t\t\t\tsonglistobj: {\r\n\t\t\t\t\ttype: 'ranking',\r\n\t\t\t\t\tcount: true,\r\n\t\t\t\t\tplay: true,\r\n\t\t\t\t\tlocation: 'centre'\r\n\t\t\t\t},\r\n\t\t\t\tofficial: {\r\n\t\t\t\t\tid: [],\r\n\t\t\t\t\timg: []\r\n\t\t\t\t}, //官方榜\r\n\t\t\t\tglobal: [], //全球榜\r\n\t\t\t\toffsongid: [], //官方榜歌单id\t\t\t\t\r\n\t\t\t\tmusiclist: [\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[],\r\n\t\t\t\t\t[]\r\n\t\t\t\t], //官方榜音乐前5\r\n\t\t\t\ttime: [],\r\n\t\t\t\tclickcolor: {\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\tindex: ''\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t//获取所有榜单\r\n\t\t\tthis.bus.$emit('loading',true)\r\n\t\t\tgetToplist().then(res => {\r\n\t\t\t\tthis.complete=true\r\n\t\t\t\tthis.bus.$emit('loading',false)\r\n\t\t\t\tres.data.list.slice(0, 4).forEach(a => {\r\n\t\t\t\t\tthis.official.id.push(a.id)\r\n\t\t\t\t\tthis.official.img.push(a.coverImgUrl)\r\n\t\t\t\t})\r\n\t\t\t\tthis.global = res.data.list.splice(4, 37)\r\n\t\t\t\tthis.global.forEach(a => {\r\n\t\t\t\t\tthis.time.push(getwang(a.playCount))\r\n\t\t\t\t})\r\n\t\t\t\tthis.official.id.forEach(data => {\r\n\t\t\t\t\tvar a = JSON.stringify(data)\r\n\t\t\t\t\tvar b = JSON.parse(a)\r\n\t\t\t\t\tthis.offsongid.push(b)\r\n\t\t\t\t})\r\n\t\t\t})\r\n\r\n\t\t\t// 获取官方榜歌单里前5首歌曲详情\r\n\t\t\tgetPlaylistTrackAll({\r\n\t\t\t\tid: 19723756,\r\n\t\t\t\tlimit: 5\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.$set(this.musiclist, 0, res.data.songs)\r\n\t\t\t})\r\n\r\n\t\t\tgetPlaylistTrackAll({\r\n\t\t\t\tid: 3779629,\r\n\t\t\t\tlimit: 5\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.$set(this.musiclist, 1, res.data.songs)\r\n\t\t\t})\r\n\r\n\t\t\tgetPlaylistTrackAll({\r\n\t\t\t\tid: 2884035,\r\n\t\t\t\tlimit: 5\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.$set(this.musiclist, 2, res.data.songs)\r\n\t\t\t})\r\n\r\n\t\t\tgetPlaylistTrackAll({\r\n\t\t\t\tid: 3778678,\r\n\t\t\t\tlimit: 5\r\n\t\t\t}).then(res => {\r\n\t\t\t\tthis.$set(this.musiclist, 3, res.data.songs)\r\n\t\t\t})\r\n\r\n\t\t},\r\n\t\tactivated() {\r\n\t\t\tthis.bus.$emit('navig','排行榜')\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.rankinglist {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\timg {\r\n\t\ttop: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n\r\n\t.rankinglist #notice {\r\n\t\tdisplay: block;\r\n\t\twidth: 100%;\r\n\t\theight: 45px;\r\n\t\tfont-size: 19px;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\r\n\t.rankinglist #official {\r\n\t\twidth: 100%;\r\n\t\theight: 720px;\r\n\t\tmargin-bottom: 25px;\r\n\t}\r\n\r\n\t.rankinglist #official ul {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.rankinglist #official ul li {\r\n\t\twidth: 100%;\r\n\t\theight: 152px;\r\n\t\tdisplay: flex;\r\n\t\tmargin-bottom: 45px;\r\n\t}\r\n\r\n\t.rankinglist #official ul li>.list {\r\n\t\tflex: 1;\r\n\t\tmargin-left: 30px;\r\n\t}\r\n\r\n\r\n\t.rankinglist #global {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.rankinglist #global ul {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.rankinglist #global li {\r\n\t\tflex: 0 0 18.5%;\r\n\t\tmargin-bottom: 10px;\r\n\t\theight: auto;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/pages/music"}]}
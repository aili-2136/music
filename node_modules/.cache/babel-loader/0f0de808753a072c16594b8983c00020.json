{"remainingRequest":"D:\\Less\\小罗音乐2.0\\node_modules\\babel-loader\\lib\\index.js!D:\\Less\\小罗音乐2.0\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Less\\小罗音乐2.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Less\\小罗音乐2.0\\src\\pages\\frame\\header.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Less\\小罗音乐2.0\\src\\pages\\frame\\header.vue","mtime":1680443527932},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662623268261},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\babel-loader\\lib\\index.js","mtime":1662623271902},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662623268261},{"path":"D:\\Less\\小罗音乐2.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1662623271232}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { readData, saveData, deleteData } from \"../../general/regular.js\";\nimport { getSearchDefault } from \"../../plugins/search.js\";\nimport { getLogout } from \"../../plugins/user.js\";\nexport default {\n  name: \"header-box\",\n  data: function data() {\n    return {\n      inputValue: '',\n      defaultKey: '',\n      //默认搜索关键字\n      user: {\n        name: '',\n        img: ''\n      },\n      cookie: readData('cookie')\n    };\n  },\n  methods: {\n    submit: function submit() {\n      if (this.inputValue == '') {\n        saveData('SearchHistory', this.defaultKey);\n        this.$store.dispatch('search', false);\n        this.$store.dispatch('keyword', {\n          open: true,\n          key: this.defaultKey\n        });\n      } else {\n        saveData('SearchHistory', this.inputValue);\n        this.$store.dispatch('search', false);\n        this.$store.dispatch('keyword', {\n          open: true,\n          key: this.inputValue\n        });\n      }\n    },\n    //失去焦点\n    blur: function blur() {\n      this.$store.dispatch('search', false);\n    },\n    //获取焦点\n    focus: function focus() {\n      this.$store.dispatch('search', true);\n    },\n    //点击登录\n    onclick: function onclick() {\n      this.$emit('onlogin', true);\n    },\n    //后退\n    onretreat: function onretreat() {\n      this.$router.back();\n    },\n    //前进\n    onadvance: function onadvance() {\n      this.$router.forward();\n    },\n    //退出登录\n    out: function out() {\n      getLogout({\n        cookie: this.cookie\n      }).then(function (res) {\n        deleteData('cookie');\n      });\n    }\n  },\n  computed: {\n    iskey: function iskey() {\n      return this.$store.state.keyword;\n    }\n  },\n  watch: {\n    iskey: {\n      deep: true,\n      handler: function handler(value) {\n        this.inputValue = value.key;\n      }\n    },\n    cookie: {\n      deep: true,\n      handler: function handler(value) {\n        if (value !== []) {} else {\n          this.user.name = '未登录';\n        }\n      }\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    getSearchDefault().then(function (res) {\n      _this.defaultKey = res.data.data.showKeyword;\n    });\n\n    if (readData('cookie') !== []) {\n      this.user.name = '未登录';\n    }\n  }\n};",{"version":3,"sources":["header.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div class=\"header-box\">\r\n\t\t<div class=\"left\">\r\n\t\t\t<i class=\"iconfont icon--huli\" id=\"logo\"></i>\r\n\t\t\t<span id=\"title\">小罗音乐</span>\r\n\t\t\t<div id=\"router\">\r\n\t\t\t\t<span id=\"enter\" @click=\"onretreat\">\r\n\t\t\t\t\t<i class=\"iconfont icon-fanhui1\"></i>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span id=\"quit\" @click=\"onadvance\">\r\n\t\t\t\t\t<i class=\"iconfont icon-fanhui2\"></i>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div id=\"search-box\">\r\n\t\t\t\t<i class=\"iconfont icon-sousuo\"></i>\r\n\t\t\t\t<input ref=\"input\" type=\"text\" v-model=\"inputValue\" @keyup.enter='submit' @blur=\"blur\" @focus=\"focus\"\r\n\t\t\t\t\t:placeholder=\"defaultKey\"></input>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class=\"reigth\">\r\n\t\t\t<div id=\"user\">\r\n\t\t\t\t<div id=\"backimg\" @click=\"onclick\">\r\n\t\t\t\t\t<!-- 头像 -->\r\n\t\t\t\t\t<i class=\"iconfont icon-ziyuanxhdpi\"></i>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<el-dropdown trigger='click'>\r\n\t\t\t\t\t<span class=\"el-dropdown-link\">\r\n\t\t\t\t\t\t{{user.name}}<i class=\"iconfont icon-icon_sanjiaoxing\"></i>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<el-dropdown-menu slot=\"dropdown\">\r\n\t\t\t\t\t\t<el-dropdown-item @click=\"out\">退出登录</el-dropdown-item>\r\n\t\t\t\t\t</el-dropdown-menu>\r\n\t\t\t\t</el-dropdown>\r\n\r\n\t\t\t</div>\r\n\t\t\t<!-- <div id=\"console\">\r\n\t\t\t\t<span id=\"lessen\">\r\n\t\t\t\t\t<i class=\"iconfont icon-jianhao\"></i>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span id=\"large\">\r\n\t\t\t\t\t<i class=\"iconfont icon-quanping\"></i>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span id=\"over\">\r\n\t\t\t\t\t<i class=\"iconfont icon-chacha\"></i>\r\n\t\t\t\t</span>\r\n\t\t\t</div> -->\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\treadData,\r\n\t\tsaveData,\r\n\t\tdeleteData\r\n\t} from '../../general/regular.js'\r\n\timport {\r\n\t\tgetSearchDefault\r\n\t} from '../../plugins/search.js'\r\n\timport {\r\n\t\tgetLogout\r\n\t} from '../../plugins/user.js'\r\n\texport default {\r\n\t\tname: \"header-box\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tinputValue: '',\r\n\t\t\t\tdefaultKey: '', //默认搜索关键字\r\n\t\t\t\tuser: {\r\n\t\t\t\t\tname: '',\r\n\t\t\t\t\timg: ''\r\n\t\t\t\t},\r\n\t\t\t\tcookie: readData('cookie')\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsubmit() {\r\n\t\t\t\tif (this.inputValue == '') {\r\n\t\t\t\t\tsaveData('SearchHistory', this.defaultKey)\r\n\t\t\t\t\tthis.$store.dispatch('search', false)\r\n\t\t\t\t\tthis.$store.dispatch('keyword', {\r\n\t\t\t\t\t\topen: true,\r\n\t\t\t\t\t\tkey: this.defaultKey\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveData('SearchHistory', this.inputValue)\r\n\t\t\t\t\tthis.$store.dispatch('search', false)\r\n\t\t\t\t\tthis.$store.dispatch('keyword', {\r\n\t\t\t\t\t\topen: true,\r\n\t\t\t\t\t\tkey: this.inputValue\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//失去焦点\r\n\t\t\tblur() {\r\n\t\t\t\tthis.$store.dispatch('search', false)\r\n\t\t\t},\r\n\t\t\t//获取焦点\r\n\t\t\tfocus() {\r\n\t\t\t\tthis.$store.dispatch('search', true)\r\n\t\t\t},\r\n\t\t\t//点击登录\r\n\t\t\tonclick() {\r\n\t\t\t\tthis.$emit('onlogin', true)\r\n\t\t\t},\r\n\t\t\t//后退\r\n\t\t\tonretreat() {\r\n\t\t\t\tthis.$router.back()\r\n\t\t\t},\r\n\t\t\t//前进\r\n\t\t\tonadvance() {\r\n\t\t\t\tthis.$router.forward()\r\n\t\t\t},\r\n\t\t\t//退出登录\r\n\t\t\tout() {\r\n\t\t\t\tgetLogout({\r\n\t\t\t\t\tcookie: this.cookie\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tdeleteData('cookie')\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tiskey() {\r\n\t\t\t\treturn this.$store.state.keyword\r\n\t\t\t},\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tiskey: {\r\n\t\t\t\tdeep: true,\r\n\t\t\t\thandler(value) {\r\n\t\t\t\t\tthis.inputValue = value.key\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcookie:{\r\n\t\t\t\tdeep:true,\r\n\t\t\t\thandler(value){\r\n\t\t\t\t\tif(value!==[]){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.user.name='未登录'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tgetSearchDefault().then(res => {\r\n\t\t\t\tthis.defaultKey = res.data.data.showKeyword\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tif(readData('cookie')!==[]){\r\n\t\t\t\tthis.user.name='未登录'\r\n\t\t\t}\t\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped>\r\n\t.el-dropdown-link {\r\n\t\tmargin-left: 5px;\r\n\t\tcursor: pointer;\r\n\t\tcolor: #fff;\r\n\t}\r\n\r\n\t.el-icon-arrow-down {\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\t.header-box {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tcolor: #fff;\r\n\t\tbackground-color: #FF7A9E;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.left {\r\n\t\twidth: auto;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t#logo {\r\n\t\tfont-size: 22px;\r\n\t\tmargin-left: 15px;\r\n\t}\r\n\r\n\t#title {\r\n\t\tfont-size: 16px;\r\n\t\tmargin-left: 5px;\r\n\t}\r\n\r\n\t#router {\r\n\t\tmargin-left: 110px;\r\n\t\twidth: 50px;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t#router i {\r\n\t\tposition: absolute;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\t#enter {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 22px;\r\n\t\theight: 22px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tborder-radius: 11px;\r\n\t\tbackground-color: rgba(255, 255, 255, .2);\r\n\t}\r\n\r\n\t#quit {\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 22px;\r\n\t\theight: 22px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\tborder-radius: 11px;\r\n\t\tbackground-color: rgba(255, 255, 255, .2);\r\n\t}\r\n\r\n\t#search-box {\r\n\t\twidth: 142px;\r\n\t\theight: 28px;\r\n\t\tborder-radius: 14px;\r\n\t\tmargin-left: 20px;\r\n\t\tdisplay: flex;\r\n\t\tline-height: 28px;\r\n\t\tbackground-color: rgba(255, 255, 255, .2);\r\n\t}\r\n\r\n\t#search-box i {\r\n\t\tfont-size: 14px;\r\n\t\tmargin-left: 5px;\r\n\t}\r\n\r\n\t#search-box input {\r\n\t\tmargin-left: 5px;\r\n\t\twidth: 115px;\r\n\t\tborder: none;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 12px;\r\n\t\tbackground-color: rgba(255, 255, 255, 0);\r\n\t}\r\n\r\n\t.reigth {\r\n\t\twidth: 230px;\r\n\t\theight: 100%;\r\n\t\tmargin-right: 20px;\r\n\t\t/* display: flex;\r\n\t\talign-items: center; */\r\n\t}\r\n\r\n\t#user {\r\n\t\tfloat: right;\r\n\t\twidth: 135px;\r\n\t\theight: 100%;\r\n\t\tline-height: 50px;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t#user #backimg {\r\n\t\tposition: relative;\r\n\t\tmargin-top: 12.5px;\r\n\t\twidth: 25px;\r\n\t\theight: 25px;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t#user #backimg i {\r\n\t\tdisplay: inline-block;\r\n\t\tposition: absolute;\r\n\t\ttop: -12.5px;\r\n\t\tfont-size: 25px;\r\n\t}\r\n\r\n\t#user #nickname {\r\n\t\tmargin-left: 5px;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\t#user #nickname i {\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\r\n\t#user #info li {\r\n\t\theight: 40px;\r\n\t}\r\n\r\n\t#console {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t::-webkit-input-placeholder {\r\n\t\tcolor: #FABACC;\r\n\t}\r\n\r\n\t:-moz-placeholder {\r\n\t\tcolor: #FABACC;\r\n\t}\r\n\r\n\t::-moz-placeholder {\r\n\t\tcolor: #FABACC;\r\n\t}\r\n\r\n\t:-ms-input-placeholder {\r\n\t\tcolor: #FABACC;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/pages/frame"}]}